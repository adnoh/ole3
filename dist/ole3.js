(function(){var r,w=this;function z(a){return void 0!==a}function aa(a,b){var c=a.split("."),d=w;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&z(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function ba(){}
function A(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ca(a){var b=A(a);return"array"==b||"object"==b&&"number"==typeof a.length}function B(a){return"string"==typeof a}function da(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function C(a){return a[ea]||(a[ea]=++fa)}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function D(a,b,c){D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return D.apply(null,arguments)}
function E(a,b){function c(){}c.prototype=b.prototype;a.Ha=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.pc=function(a,c,f){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return b.prototype[c].apply(a,h)}};function ja(){0!=ka&&C(this);this.$a=this.$a;this.ac=this.ac}var ka=0;ja.prototype.$a=!1;function F(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.L=!1;this.qb=!0}F.prototype.stopPropagation=function(){this.L=!0};F.prototype.preventDefault=function(){this.defaultPrevented=!0;this.qb=!1};var la="closure_listenable_"+(1E6*Math.random()|0),ma=0;function na(a,b,c,d,e){this.listener=a;this.ma=null;this.src=b;this.type=c;this.fa=!!d;this.ja=e;this.key=++ma;this.S=this.ea=!1}function oa(a){a.S=!0;a.listener=null;a.ma=null;a.src=null;a.ja=null};function pa(a){return function(b){return a===b}};function qa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ta(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<sa.length;f++)c=sa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function ua(a){var b=arguments.length;if(1==b&&"array"==A(arguments[0]))return ua.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};ua("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function va(a){va[" "](a);return a}va[" "]=ba;var wa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function xa(a){if(!ya.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(za,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Aa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ba,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ca,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ea,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Fa,"&#0;"));return a}var za=/&/g,Aa=/</g,Ba=/>/g,Ca=/"/g,Ea=/'/g,Fa=/\x00/g,ya=/[\x00&<>"']/;
function Ga(a,b){return a<b?-1:a>b?1:0};var G=Array.prototype,Ha=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(B(a))return B(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ia=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=G.filter?function(a,b,c){return G.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=B(a)?
a.split(""):a,m=0;m<d;m++)if(m in h){var p=h[m];b.call(c,p,m,a)&&(e[f++]=p)}return e},H=G.map?function(a,b,c){return G.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ka=G.reduce?function(a,b,c,d){d&&(b=D(b,d));return G.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ia(a,function(c,h){e=b.call(d,e,c,h,a)});return e};
function La(a,b){for(var c=a.length,d=B(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return e;return-1}function Ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function I(a){this.src=a;this.o={};this.oa=0}I.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.oa++);var h=Na(a,b,d,e);-1<h?(b=a[h],c||(b.ea=!1)):(b=new na(b,this.src,f,!!d,e),b.ea=c,a.push(b));return b};I.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Na(e,b,c,d);return-1<b?(oa(e[b]),G.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.oa--),!0):!1};
function Oa(a,b){var c=b.type;if(c in a.o){var d=a.o[c],e=Ha(d,b),f;(f=0<=e)&&G.splice.call(d,e,1);f&&(oa(b),0==a.o[c].length&&(delete a.o[c],a.oa--))}}I.prototype.xa=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=Na(a,b,c,d));return-1<e?a[e]:null};function Na(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.S&&f.listener==b&&f.fa==!!c&&f.ja==d)return e}return-1};var J;a:{var Pa=w.navigator;if(Pa){var Qa=Pa.userAgent;if(Qa){J=Qa;break a}}J=""};function K(){return-1!=J.indexOf("Edge")};var Ra=-1!=J.indexOf("Opera")||-1!=J.indexOf("OPR"),L=-1!=J.indexOf("Edge")||-1!=J.indexOf("Trident")||-1!=J.indexOf("MSIE"),M=-1!=J.indexOf("Gecko")&&!(-1!=J.toLowerCase().indexOf("webkit")&&!K())&&!(-1!=J.indexOf("Trident")||-1!=J.indexOf("MSIE"))&&!K(),N=-1!=J.toLowerCase().indexOf("webkit")&&!K();function Sa(){var a=J;if(M)return/rv\:([^\);]+)(\)|;)/.exec(a);if(L&&K())return/Edge\/([\d\.]+)/.exec(a);if(L)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(N)return/WebKit\/(\S+)/.exec(a)}
function Ta(){var a=w.document;return a?a.documentMode:void 0}var Ua=function(){if(Ra&&w.opera){var a=w.opera.version;return"function"==A(a)?a():a}var a="",b=Sa();b&&(a=b?b[1]:"");return L&&!K()&&(b=Ta(),b>parseFloat(a))?String(b):a}(),Va={};
function O(a){var b;if(!(b=Va[a])){b=0;for(var c=wa(String(Ua)).split("."),d=wa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",m=d[f]||"",p=RegExp("(\\d*)(\\D*)","g"),v=RegExp("(\\d*)(\\D*)","g");do{var u=p.exec(h)||["","",""],q=v.exec(m)||["","",""];if(0==u[0].length&&0==q[0].length)break;b=Ga(0==u[1].length?0:parseInt(u[1],10),0==q[1].length?0:parseInt(q[1],10))||Ga(0==u[2].length,0==q[2].length)||Ga(u[2],q[2])}while(0==b)}b=Va[a]=0<=b}return b}
var Wa=w.document,Xa=Ta(),Ya=!Wa||!L||!Xa&&K()?void 0:Xa||("CSS1Compat"==Wa.compatMode?parseInt(Ua,10):5);var Za=!L||L&&(K()||9<=Ya);!M&&!L||L&&L&&(K()||9<=Ya)||M&&O("1.9.1");L&&O("9");function $a(a,b){qa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in ab?a.setAttribute(ab[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var ab={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function bb(a,b,c){var d=arguments,e=document,f=d[0],h=d[1];if(!Za&&h&&(h.name||h.type)){f=["<",f];h.name&&f.push(' name="',xa(h.name),'"');if(h.type){f.push(' type="',xa(h.type),'"');var m={};ta(m,h);delete m.type;h=m}f.push(">");f=f.join("")}f=e.createElement(f);h&&(B(h)?f.className=h:"array"==A(h)?f.className=h.join(" "):$a(f,h));2<d.length&&cb(e,f,d);return f}
function cb(a,b,c){function d(c){c&&b.appendChild(B(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ca(f)||da(f)&&0<f.nodeType?d(f):Ia(db(f)?Ma(f):f,d)}}function db(a){if(a&&"number"==typeof a.length){if(da(a))return"function"==typeof a.item||"string"==typeof a.item;if("function"==A(a))return"function"==typeof a.item}return!1};var eb=!L||L&&(K()||9<=Ya),fb=L&&!O("9");!N||O("528");M&&O("1.9b")||L&&O("8")||Ra&&O("9.5")||N&&O("528");M&&!O("8")||L&&O("9");function P(a,b){F.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.W=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(M){var e;a:{try{va(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=
a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=N||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=N||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.W=a;a.defaultPrevented&&this.preventDefault()}}E(P,F);P.prototype.stopPropagation=function(){P.Ha.stopPropagation.call(this);this.W.stopPropagation?this.W.stopPropagation():this.W.cancelBubble=!0};P.prototype.preventDefault=function(){P.Ha.preventDefault.call(this);var a=this.W;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var gb="closure_lm_"+(1E6*Math.random()|0),hb={},ib=0;
function jb(a,b,c,d,e){if("array"==A(b))for(var f=0;f<b.length;f++)jb(a,b[f],c,d,e);else if(c=kb(c),a&&a[la])a.O.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,h=mb(a);h||(a[gb]=h=new I(a));c=h.add(b,c,!1,d,e);if(!c.ma){d=nb();c.ma=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(ob(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");ib++}}}
function nb(){var a=pb,b=eb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function qb(a,b,c,d,e){if("array"==A(b))for(var f=0;f<b.length;f++)qb(a,b[f],c,d,e);else c=kb(c),a&&a[la]?a.O.remove(String(b),c,d,e):a&&(a=mb(a))&&(b=a.xa(b,c,!!d,e))&&rb(b)}
function rb(a){if("number"!=typeof a&&a&&!a.S){var b=a.src;if(b&&b[la])Oa(b.O,a);else{var c=a.type,d=a.ma;b.removeEventListener?b.removeEventListener(c,d,a.fa):b.detachEvent&&b.detachEvent(ob(c),d);ib--;(c=mb(b))?(Oa(c,a),0==c.oa&&(c.src=null,b[gb]=null)):oa(a)}}}function ob(a){return a in hb?hb[a]:hb[a]="on"+a}function sb(a,b,c,d){var e=!0;if(a=mb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.fa==c&&!f.S&&(f=tb(f,d),e=e&&!1!==f)}return e}
function tb(a,b){var c=a.listener,d=a.ja||a.src;a.ea&&rb(a);return c.call(d,b)}
function pb(a,b){if(a.S)return!0;if(!eb){var c;if(!(c=b))a:{c=["window","event"];for(var d=w,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new P(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(h){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,m=e.length-1;!c.L&&0<=m;m--){c.currentTarget=e[m];var p=sb(e[m],f,!0,c),d=d&&p}for(m=0;!c.L&&m<e.length;m++)c.currentTarget=
e[m],p=sb(e[m],f,!1,c),d=d&&p}return d}return tb(a,new P(b,this))}function mb(a){a=a[gb];return a instanceof I?a:null}var ub="__closure_events_fn_"+(1E9*Math.random()>>>0);function kb(a){if("function"==A(a))return a;a[ub]||(a[ub]=function(b){return a.handleEvent(b)});return a[ub]};function Q(){ja.call(this);this.O=new I(this);this.Db=this;this.nb=null}E(Q,ja);Q.prototype[la]=!0;Q.prototype.addEventListener=function(a,b,c,d){jb(this,a,b,c,d)};Q.prototype.removeEventListener=function(a,b,c,d){qb(this,a,b,c,d)};
Q.prototype.dispatchEvent=function(a){var b,c=this.nb;if(c)for(b=[];c;c=c.nb)b.push(c);var c=this.Db,d=a.type||a;if(B(a))a=new F(a,c);else if(a instanceof F)a.target=a.target||c;else{var e=a;a=new F(d,c);ta(a,e)}var e=!0,f;if(b)for(var h=b.length-1;!a.L&&0<=h;h--)f=a.currentTarget=b[h],e=vb(f,d,!0,a)&&e;a.L||(f=a.currentTarget=c,e=vb(f,d,!0,a)&&e,a.L||(e=vb(f,d,!1,a)&&e));if(b)for(h=0;!a.L&&h<b.length;h++)f=a.currentTarget=b[h],e=vb(f,d,!1,a)&&e;return e};
function vb(a,b,c,d){b=a.O.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.S&&h.fa==c){var m=h.listener,p=h.ja||h.src;h.ea&&Oa(a.O,h);e=!1!==m.call(p,d)&&e}}return e&&0!=d.qb}Q.prototype.xa=function(a,b,c,d){return this.O.xa(String(a),b,c,d)};var wb;
(function(){var a={};(function(){function b(a){var b=a&&a.forEach?a:arguments;if("object"===typeof b[0])for(var b=[],c=0;c<a.length;c++)["x","y","z"].forEach(function(g){"undefined"!==typeof a[c][g]&&b.push(a[c][g])});var g=b.length;if(6!==g&&8!==g&&9!==g&&12!==g)throw console.log(a),Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var d=9===g||12===g;this.u=d;for(var k=[],l=0,n=d?3:2;l<g;l+=n){var f={x:b[l],y:b[l+1]};d&&(f.z=b[l+2]);k.push(f)}this.g=k.length-
1;this.points=k;g=["x","y"];d&&g.push("z");this.Ya=g;(function(a){for(var b=t.align(k,{F:k[0],G:k[a.g]}),Da=0;Da<b.length;Da++)if(1E-4<e(b[Da].y)){a.Oa=!1;return}a.Oa=!0})(this);this.i=0;this.c=1;this.update()}function c(a){this.N=[];this.u=!1;a&&(this.N=a,this.u=this.N[0].u)}function d(a){return 0>a?-Math.pow(-a,1/3):Math.pow(a,1/3)}var e=Math.abs,f=Math.min,h=Math.max,m=Math.cos,p=Math.sin,v=Math.acos,u=Math.atan2,q=Math.sqrt,x=Math.PI,y=2*x,l=x/2,n={x:0,y:0,z:0},t={Ja:[-.06405689286260563,.06405689286260563,
-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],tb:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,
.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],Eb:function(a,b){var c=b(a),c=c.x*c.x+c.y*c.y;"undefined"!==typeof c.z&&(c+=c.z*c.z);return q(c)},length:function(a){var b=0,c=this.Ja.length,g,
d;for(g=0;g<c;g++)d=.5*this.Ja[g]+.5,b+=this.tb[g]*this.Eb(d,a);return.5*b},map:function(a,b,c,g,d){return g+(a-b)/(c-b)*(d-g)},Zb:function(a,b,c){var g={x:b.x+a*(c.x-b.x),y:b.y+a*(c.y-b.y)};b.z&&c.z&&(g.z=b.z+a*(c.z-b.z));return g},ec:function(a){var b=a.x+"/"+a.y;"undefined"!==typeof a.z&&(b+="/"+a.z);return b},pb:function(a){return"["+a.map(this.ec).join(", ")+"]"},Ib:function(a){return JSON.parse(JSON.stringify(a))},angle:function(a,b,c){var g=b.x-a.x;b=b.y-a.y;var d=c.x-a.x;a=c.y-a.y;c=g*a-b*
d;var k=q(g*g+b*b),e=q(d*d+a*a);return u(c,g/k*(d/e)+b/k*(a/e))},Jb:function(a,b){var c=a.x-b.x,g=a.y-b.y;return q(c*c+g*g)},lb:function(a,b,c,g,d,k,e,l){var n=(a-c)*(k-l)-(b-g)*(d-e);return 0==n?!1:{x:((a*g-b*c)*(d-e)-(a-c)*(d*l-k*e))/n,y:((a*g-b*c)*(k-l)-(b-g)*(d*l-k*e))/n}},Ca:function(a,b,c,g){return this.lb(a.x,a.y,b.x,b.y,c.x,c.y,g.x,g.y)},vc:function(a,b){return this.Ca(a,a.da,b,b.da)},ka:function(a,c){var ga=a.x,g=a.y,d=c.x,k=c.y,e=(d-ga)/3,l=(k-g)/3;return new b(ga,g,ga+e,g+l,ga+2*e,g+2*
l,d,k)},Lb:function(a){var b=99999999,c=b,g=-b,d=g;a.forEach(function(a){a=a.bbox();b>a.x.min&&(b=a.x.min);c>a.y.min&&(c=a.y.min);g<a.x.max&&(g=a.x.max);d<a.y.max&&(d=a.y.max)});return{x:{min:b,K:(b+g)/2,max:g,size:g-b},y:{min:c,K:(c+d)/2,max:d,size:d-c}}},jc:function(a,b,c,g){if(!this.ra(b,g))return[];var d=[],k=[c.rb,c.forward,c.back,c.gb];[a.rb,a.forward,a.back,a.gb].forEach(function(b){b.nc||k.forEach(function(g){if(!g.nc){var T=b.intersects(g);0<T.length&&(T.qc=b,T.rc=g,T.yc=a,T.zc=c,d.push(T))}})});
return d},wc:function(a,b){var c=a.points.length,g=this.ka(b.points[b.points.length-1],a.points[0]),c=this.ka(a.points[c-1],b.points[0]),d={rb:g,forward:a,back:b,gb:c,bbox:this.Lb([g,a,b,c])},k=this;d.uc=function(a){return k.jc(d,d.bbox,a,a.bbox)};return d},Nb:function(a,b,c){if(!c)return{min:0,max:0};var g=1.8446744073709552E19,d=-g,k;-1===c.indexOf(0)&&(c=[0].concat(c));-1===c.indexOf(1)&&c.push(1);for(var e=0,l=c.length;e<l;e++)k=c[e],k=a.get(k),k[b]<g&&(g=k[b]),k[b]>d&&(d=k[b]);return{min:g,K:(g+
d)/2,max:d,size:d-g}},align:function(a,b){var c=b.F.x,g=b.F.y,d=-u(b.G.y-g,b.G.x-c);return a.map(function(a){return{x:(a.x-c)*m(d)-(a.y-g)*p(d),y:(a.x-c)*p(d)+(a.y-g)*m(d)}})},hc:function(a,b){function c(a){return 0<=a&&1>=a}b=b||{F:{x:0,y:0},G:{x:1,y:0}};var g=a.length-1,e=this.align(a,b);if(2===g){var g=e[0].y,k=e[1].y,e=e[2].y,l=g-2*k+e;return 0!==l?(e=-q(k*k-g*e),g=-g+k,[-(e+g)/l,-(-e+g)/l].filter(c)):k!==e&&0===l?[(2*k-e)/2*(k-e)].filter(c):[]}var n=e[0].y,k=e[1].y,g=e[2].y,l=-n+3*k-3*g+e[3].y,
g=(3*n-6*k+3*g)/l,k=(-3*n+3*k)/l,e=(3*k-g*g)/3,f=e/3,l=(2*g*g*g-9*g*k+n/l*27)/27,k=l/2,n=k*k+f*f*f;if(0>n)return e=-e/3,e=q(e*e*e),l=-l/(2*e),k=v(-1>l?-1:1<l?1:l),n=2*d(e),e=n*m(k/3)-g/3,l=n*m((k+y)/3)-g/3,g=n*m((k+2*y)/3)-g/3,[e,l,g].filter(c);if(0===n)return e=0>k?d(-k):-d(k),[2*e-g/3,-e-g/3].filter(c);l=q(n);e=d(-k+l);l=d(k+l);return[e-l-g/3].filter(c)},ab:function(a){if(3===a.length){var b=a[0],c=a[1],g=a[2];a=b-2*c+g;return 0!==a?(g=-q(c*c-b*g),b=-b+c,[-(g+b)/a,-(-g+b)/a]):c!==g&&0===a?[(2*c-
g)/(2*(c-g))]:[]}if(2===a.length)return b=a[0],c=a[1],b!==c?[b/(b-c)]:[]},ra:function(a,b){var c=["x","y"],g=c.length,d,k,l,n;for(d=0;d<g;d++)if(k=c[d],l=a[k].K,n=b[k].K,k=(a[k].size+b[k].size)/2,e(l-n)>=k)return!1;return!0},Kb:function(a,b){b.x.min<a.x.min&&(a.x.min=b.x.min);b.y.min<a.y.min&&(a.y.min=b.y.min);b.z&&b.z.min<a.z.min&&(a.z.min=b.z.min);b.x.max>a.x.max&&(a.x.max=b.x.max);b.y.max>a.y.max&&(a.y.max=b.y.max);b.z&&b.z.max>a.z.max&&(a.z.max=b.z.max);a.x.K=(a.x.min+a.x.max)/2;a.y.K=(a.y.min+
a.y.max)/2;a.z&&(a.z.K=(a.z.min+a.z.max)/2);a.x.size=a.x.max-a.x.min;a.y.size=a.y.max-a.y.min;a.z&&(a.z.size=a.z.max-a.z.min)},mb:function(a,b){var c=a.bbox(),g=b.bbox();if(.5>c.x.size+c.y.size&&.5>g.x.size+g.y.size)return[(1E5*(a.i+a.c)/2|0)/1E5+"/"+(1E5*(b.i+b.c)/2|0)/1E5];var c=a.split(.5),g=b.split(.5),c=[{left:c.left,right:g.left},{left:c.left,right:g.right},{left:c.right,right:g.right},{left:c.right,right:g.left}],c=c.filter(function(a){return t.ra(a.left.bbox(),a.right.bbox())}),d=[];if(0===
c.length)return d;c.forEach(function(a){d=d.concat(t.mb(a.left,a.right))});return d=d.filter(function(a,b){return d.indexOf(a)===b})},tc:function(a,b,c){var d=b.x-a.x,e=b.y-a.y,k=c.x-b.x,n=c.y-b.y,f=d*m(l)-e*p(l),d=d*p(l)+e*m(l),e=k*m(l)-n*p(l),k=k*p(l)+n*m(l),n=(a.x+b.x)/2,h=(a.y+b.y)/2,q=(b.x+c.x)/2,lb=(b.y+c.y)/2,f=t.lb(n,h,n+f,h+d,q,lb,q+e,lb+k),d=t.Jb(f,a);a=u(a.y-f.y,a.x-f.x);b=u(b.y-f.y,b.x-f.x);c=u(c.y-f.y,c.x-f.x);if(a<c){if(a>b||b>c)a+=y;a>c&&(b=c,c=a,a=b)}else c<b&&b<a?(b=c,c=a,a=b):c+=
y;f.xc=a;f.e=c;f.r=d;return f}};c.prototype={valueOf:function(){return this.toString()},toString:function(){return t.pb(this.points)},length:function(){return this.N.map(function(a){return a.length()}).reduce(function(a,b){return a+b})},curve:function(a){return this.N[a]},bbox:function(){for(var a=this.N,b=a[0].bbox(),c=1;c<a.length;c++)t.Kb(b,a[c].bbox());return b},offset:function(a){var b=[];this.N.forEach(function(c){b=b.concat(c.offset(a))});return new c(b)}};b.sc=function(a){var c=-1<a.indexOf("m");
a=a.match(/(-?\d+(\.\d+)*)\s*[, ]\s*(-?\d+(\.\d+)*)/g).map(function(a){a=a.split(" ").map(function(a){return parseFloat(a)});return{x:a[0],y:a[1]}});if(!c)return new b(a);var d=[a[0]];a.reduce(function(a,b){b.x+=a.x;b.y+=a.y;d.push({x:b.x,y:b.y});return b});return new b(d)};b.Ac=t;b.prototype={valueOf:function(){return this.toString()},toString:function(){return t.pb(this.points)},update:function(){this.ha=[];for(var a=this.points,b=a.length,c=b-1;1<b;b--,c--){for(var d=[],e=0,l;e<c;e++)l={x:c*(a[e+
1].x-a[e].x),y:c*(a[e+1].y-a[e].y)},this.u&&(l.z=c*(a[e+1].z-a[e].z)),d.push(l);this.ha.push(d);a=d}this.Gb()},Gb:function(){var a=this.points;this.Fb=0<t.angle(a[0],a[this.g],a[1])},length:function(){return t.length(this.V.bind(this))},Mb:function(a){a=a||100;for(var b=[],c=0;c<=a;c++)b.push(this.Wa(c/a));return b},get:function(a){return this.Wa(a)},Wa:function(a){if(0===a)return this.points[0];if(1===a)return this.points[this.g];var b=1-a,c=b*b,d=a*a,e,l,f,t=0,h=this.points;2===this.g&&(h=[h[0],
h[1],h[2],n],e=c,l=b*a*2,f=d);3===this.g&&(e=c*b,l=c*a*3,f=b*d*3,t=a*d);a={x:e*h[0].x+l*h[1].x+f*h[2].x+t*h[3].x,y:e*h[0].y+l*h[1].y+f*h[2].y+t*h[3].y};this.u&&(a.z=e*h[0].z+l*h[1].z+f*h[2].z+t*h[3].z);return a},fc:function(){var a=this.points,c=[a[0]],d,g=a.length,e,l;for(d=1;d<g;d++)e=a[d],l=a[d-1],c[d]={x:(g-d)/g*e.x+d/g*l.x,y:(g-d)/g*e.y+d/g*l.y};c[g]=a[g-1];return new b(c)},V:function(a){var b=1-a,c,d,e=0,l=this.ha[0];2===this.g&&(l=[l[0],l[1],n],c=b,d=a);3===this.g&&(c=b*b,d=b*a*2,e=a*a);a=
{x:c*l[0].x+d*l[1].x+e*l[2].x,y:c*l[0].y+d*l[1].y+e*l[2].y};this.u&&(a.z=c*l[0].z+d*l[1].z+e*l[2].z);return a},la:function(a){return this.u?this.vb(a):this.ub(a)},ub:function(a){a=this.V(a);var b=q(a.x*a.x+a.y*a.y);return{x:-a.y/b,y:a.x/b}},vb:function(a){var b=this.V(a);a=this.V(a+.01);var c=q(b.x*b.x+b.y*b.y+b.z*b.z),d=q(a.x*a.x+a.y*a.y+a.z*a.z);b.x/=c;b.y/=c;b.z/=c;a.x/=d;a.y/=d;a.z/=d;c=a.y*b.z-a.z*b.y;d=a.z*b.x-a.x*b.z;a=a.x*b.y-a.y*b.x;var e=q(c*c+d*d+a*a),c=c/e,d=d/e;a/=e;a=[c*c,c*d-a,c*a+
d,c*d+a,d*d,d*a-c,c*a-d,d*a+c,a*a];return{x:a[0]*b.x+a[1]*b.y+a[2]*b.z,y:a[3]*b.x+a[4]*b.y+a[5]*b.z,z:a[6]*b.x+a[7]*b.y+a[8]*b.z}},split:function(a,c){if(0===a&&c)return this.split(c).left;if(1===c)return this.split(a).right;var d=this.points,e=[],l,n=[],f=0,h=0,m=0;n[f++]=d[0];n[f++]=d[1];n[f++]=d[2];for(3===this.g&&(n[f++]=d[3]);1<d.length;){e=[];h=0;for(m=d.length-1;h<m;h++)l=t.Zb(a,d[h],d[h+1]),n[f++]=l,e.push(l);d=e}d={left:2===this.g?new b([n[0],n[3],n[5]]):new b([n[0],n[4],n[7],n[9]]),right:2===
this.g?new b([n[5],n[4],n[2]]):new b([n[9],n[8],n[6],n[3]]),span:n};d.left.i=t.map(0,0,1,this.i,this.c);d.left.c=t.map(a,0,1,this.i,this.c);d.right.i=t.map(a,0,1,this.i,this.c);d.right.c=t.map(1,0,1,this.i,this.c);if(!c)return d;c=t.map(c,a,1,0,1);return d.right.split(c).left},jb:function(){var a={},b=[],c,d;this.Ya.forEach(function(e){d=function(a){return a[e]};c=this.ha[0].map(d);a[e]=t.ab(c);3===this.g&&(c=this.ha[1].map(d),a[e]=a[e].concat(t.ab(c)));a[e]=a[e].filter(function(a){return 0<=a&&1>=
a});b=b.concat(a[e].sort())}.bind(this));b.sort();a.values=b;return a},bbox:function(){var a=this.jb(),b={};this.Ya.forEach(function(c){b[c]=t.Nb(this,c,a[c])}.bind(this));return b},bc:function(a){var b=this.bbox();a=a.bbox();return t.ra(b,a)},offset:function(a,c){if("undefined"!==typeof c){var d=this.get(a),e=this.la(a),l={da:d,n:e,x:d.x+e.x*c,y:d.y+e.y*c};this.u&&(l.z=d.z+e.z*c);return l}if(this.Oa){var n=this.la(0),d=this.points.map(function(b){var c={x:b.x+a*n.x,y:b.y+a*n.y};b.z&&e.z&&(c.z=b.z+
a*n.z);return c});return[new b(d)]}return this.reduce().map(function(b){return b.scale(a)})},kc:function(){if(3===this.g){var a=t.angle(this.points[0],this.points[3],this.points[1]),b=t.angle(this.points[0],this.points[3],this.points[2]);if(0<a&&0>b||0>a&&0<b)return!1}var a=this.la(0),b=this.la(1),c=a.x*b.x+a.y*b.y;this.u&&(c+=a.z*b.z);return e(v(c))<x/3},reduce:function(){var a,b=0,c=0,d,l=[],n=[],f=this.jb().values;-1===f.indexOf(0)&&(f=[0].concat(f));-1===f.indexOf(1)&&f.push(1);b=f[0];for(a=1;a<
f.length;a++)c=f[a],d=this.split(b,c),d.i=b,d.c=c,l.push(d),b=c;l.forEach(function(a){for(c=b=0;1>=c;)for(c=b+.01;1.01>=c;c+=.01)if(d=a.split(b,c),!d.kc()){c-=.01;if(.01>e(b-c))return[];d=a.split(b,c);d.i=t.map(b,0,1,a.i,a.c);d.c=t.map(c,0,1,a.i,a.c);n.push(d);b=c;break}1>b&&(d=a.split(b,1),d.i=t.map(b,0,1,a.i,a.c),d.c=a.c,n.push(d))});return n},scale:function(a){var c=this.g,d=void 0;"function"===typeof a&&(d=a);if(d&&2===c)return this.fc().scale(d);var e=this.Fb,l=d?d(0):a,n=d?d(1):a,f=[this.offset(0,
10),this.offset(1,10)],h=t.Ca(f[0],f[0].da,f[1],f[1].da);if(!h)throw"cannot scale this curve. Try reducing it first.";var m=this.points,p=[];[0,1].forEach(function(a){var b=p[a*c]=t.Ib(m[a*c]);b.x+=(a?n:l)*f[a].n.x;b.y+=(a?n:l)*f[a].n.y}.bind(this));if(!d)return[0,1].forEach(function(a){if(2!==this.g||!a){var b=p[a*c],d=this.V(a);p[a+1]=t.Ca(b,{x:b.x+d.x,y:b.y+d.y},h,m[a+1])}}.bind(this)),new b(p);[0,1].forEach(function(b){if(2!==this.g||!b){var l=m[b+1],n=l.x-h.x,f=l.y-h.y,k=d?d((b+1)/c):a;d&&!e&&
(k=-k);var t=q(n*n+f*f);p[b+1]={x:l.x+n/t*k,y:l.y+f/t*k}}}.bind(this));return new b(p)},outline:function(a,b,d,e){function l(a,b,c,d,e){return function(l){var n=b-a;return t.map(l,0,1,a+d/c*n,a+(d+e)/c*n)}}b="undefined"===typeof b?a:b;var n=this.reduce(),f=n.length,h=[],m=[],p,q=0,u=this.length(),v="undefined"!==typeof d&&"undefined"!==typeof e;n.forEach(function(c){x=c.length();v?(h.push(c.scale(l(a,d,u,q,x))),m.push(c.scale(l(-b,-e,u,q,x)))):(h.push(c.scale(a)),m.push(c.scale(-b)));q+=x});var m=
m.map(function(a){p=a.points;a.points=p[3]?[p[3],p[2],p[1],p[0]]:[p[2],p[1],p[0]];return a}).reverse(),n=h[f-1].points[h[f-1].points.length-1],y=m[0].points[0],f=t.ka(m[f-1].points[m[f-1].points.length-1],h[0].points[0]),n=t.ka(n,y),f=[f].concat(h).concat([n]).concat(m),x=f.length;return new c(f)},intersects:function(a){if(!a)return this.ic();if(a.F&&a.G)return this.$b(a);a instanceof b&&(a=a.reduce());return this.Xa(this.reduce(),a)},$b:function(a){var b=f(a.F.x,a.G.x),c=f(a.F.y,a.G.y),d=h(a.F.x,
a.G.x),e=h(a.F.y,a.G.y),l=this;return t.hc(this.points,a).filter(function(a){a=l.get(a);return b<=a.x&&a.x<=d&&c<=a.y&&a.y<=e})},ic:function(){var a=this.reduce(),b,c=a.length-2,d=[],e,l;for(b=0;b<c;b++)e=a.slice(b,b+1),l=a.slice(b+2),e=this.Xa(e,l),d=d.concat(e);return d},Xa:function(a,b){var c=[];a.forEach(function(a){b.forEach(function(b){a.bc(b)&&c.push({left:a,right:b})})});var d=[];c.forEach(function(a){a=t.mb(a.left,a.right);0<a.length&&(d=d.concat(a))});return d}};"undefined"!==typeof a&&
(a.sb=b)})();wb=a.sb})();var xb;
(function(){var a;(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.pa=Math.max(4,a||9);this.Pa=Math.max(2,Math.ceil(.4*this.pa));c&&this.Bb(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],h;b<c;b++)h=a.children[b],e(f,a.j?d(h):h.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-b.bbox[0]}
function h(a,b){return a.bbox[1]-b.bbox[1]}function m(a){return(a[2]-a[0])*(a[3]-a[1])}function p(a){return a[2]-a[0]+(a[3]-a[1])}function v(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function u(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function q(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,x(a,b,c,g,e),f.push(b,g,g,c))}function x(a,b,c,d,e){for(var f,g,h,k,m;c>b;){600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),k=.5*Math.exp(2*
h/3),m=.5*Math.sqrt(h*k*(f-k)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*k/f+m)),g=Math.min(c,Math.floor(d+(f-g)*k/f+m)),x(a,h,g,d,e));f=a[d];g=b;k=c;y(a,b,d);for(0<e(a[c],f)&&y(a,b,c);g<k;){y(a,g,k);g++;for(k--;0>e(a[g],f);)g++;for(;0<e(a[k],f);)k--}0===e(a[b],f)?y(a,b,k):(k++,y(a,k,c));k<=d&&(b=k+1);d<=k&&(c=k-1)}}function y(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Ka(this.data,[])},search:function(a){var b=this.data,c=[];if(!u(a,b.bbox))return c;for(var d=[],
e,f,g,h;b;){e=0;for(f=b.children.length;e<f;e++)g=b.children[e],h=b.j?this.h(g):g.bbox,u(a,h)&&(b.j?c.push(g):v(a,h)?this.Ka(g,c):d.push(g));b=d.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.Pa){for(var b=0,c=a.length;b<c;b++)this.R(a[b]);return this}a=this.Ma(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Qa(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.Na(a,this.data.height-a.height-1,!0)):this.data=
a;return this},R:function(a){a&&this.Na(a,this.data.height-1,!1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],j:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.h(a),d=[],e=[],f,g,h,k;b||d.length;){b||(b=d.pop(),g=d[d.length-1],f=e.pop(),k=!0);if(b.j&&(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.Ab(d);break}k||b.j||!v(b.bbox,c)?g?(f++,b=g.children[f],k=!1):b=null:(d.push(b),e.push(f),
f=0,g=b,b=b.children[0])}return this},h:function(a){return a},ta:function(a,b){return a[0]-b[0]},ua:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Ka:function(a,b){for(var c=[];a;)a.j?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},Ma:function(a,b,d,e){var f=d-b+1,h=this.pa,g;if(f<=h)return g={children:a.slice(b,d+1),height:1,bbox:null,j:!0},c(g,this.h),g;e||(e=Math.ceil(Math.log(f)/Math.log(h)),h=Math.ceil(f/Math.pow(h,e-1)));g={children:[],height:e,
bbox:null};var f=Math.ceil(f/h),h=f*Math.ceil(Math.sqrt(h)),m,k,p;for(q(a,b,d,h,this.ta);b<=d;b+=h)for(k=Math.min(b+h-1,d),q(a,b,k,f,this.ua),m=b;m<=k;m+=f)p=Math.min(m+f-1,k),g.children.push(this.Ma(a,m,p,e-1));c(g,this.h);return g},zb:function(a,b,c,d){for(var e,f,g,h,k,p,q,u;;){d.push(b);if(b.j||d.length-1===c)break;q=u=Infinity;e=0;for(f=b.children.length;e<f;e++){g=b.children[e];k=m(g.bbox);p=a;var v=g.bbox;p=(Math.max(v[2],p[2])-Math.min(v[0],p[0]))*(Math.max(v[3],p[3])-Math.min(v[1],p[1]))-
k;p<u?(u=p,q=k<q?k:q,h=g):p===u&&k<q&&(q=k,h=g)}b=h}return b},Na:function(a,b,c){c=c?a.bbox:this.h(a);var d=[],f=this.zb(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.pa)this.Cb(d,b),b--;else break;this.wb(c,d,b)},Cb:function(a,b){var d=a[b],e=d.children.length,f=this.Pa;this.xb(d,f,e);e={children:d.children.splice(this.yb(d,f,e)),height:d.height};d.j&&(e.j=!0);c(d,this.h);c(e,this.h);b?a[b-1].children.push(e):this.Qa(d,e)},Qa:function(a,b){this.data={children:[a,
b],height:a.height+1};c(this.data,this.h)},yb:function(a,b,c){var e,f,h,g,p,k,q;p=k=Infinity;for(e=b;e<=c-b;e++){f=d(a,0,e,this.h);h=d(a,e,c,this.h);var u=f,v=h;g=Math.max(u[0],v[0]);var x=Math.max(u[1],v[1]),y=Math.min(u[2],v[2]),u=Math.min(u[3],v[3]);g=Math.max(0,y-g)*Math.max(0,u-x);f=m(f)+m(h);g<p?(p=g,q=e,k=f<k?f:k):g===p&&f<k&&(k=f,q=e)}return q},xb:function(a,b,c){var d=a.j?this.ta:f,e=a.j?this.ua:h,m=this.La(a,b,c,d);b=this.La(a,b,c,e);m<b&&a.children.sort(d)},La:function(a,b,c,f){a.children.sort(f);
var h=this.h;f=d(a,0,b,h);var h=d(a,c-b,c,h),m=p(f)+p(h),g,q;for(g=b;g<c-b;g++)q=a.children[g],e(f,a.j?this.h(q):q.bbox),m+=p(f);for(g=c-b-1;g>=b;g--)q=a.children[g],e(h,a.j?this.h(q):q.bbox),m+=p(h);return m},wb:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},Ab:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.h)},Bb:function(a){var b=["return a"," - b",";"];this.ta=new Function("a","b",b.join(a[0]));this.ua=
new Function("a","b",b.join(a[1]));this.h=new Function("a","return [a"+a.join(", a")+"];")}};a=b})();xb=a})();function R(a,b){a[0]-=b[0];a[1]-=b[1];return a}function yb(a,b){a[0]*=b;a[1]*=b;return a}function S(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}
function zb(){var a={},b=[255,255,255,1],c=[0,153,255,1];a[Ab]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];a[Bb]=a[Ab];a[U]=[new ol.style.Style({stroke:new ol.style.Stroke({color:b,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:3})})];a[Cb]=a[U];a[Db]=a[Ab].concat(a[U]);a[Eb]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:c}),stroke:new ol.style.Stroke({color:b,width:1.5})}),zIndex:Infinity})];a[Fb]=a[Eb];
a[Gb]=a[Ab].concat(a[Eb]);return a}var Eb="Point",U="LineString",Ab="Polygon",Fb="MultiPoint",Cb="MultiLineString",Bb="MultiPolygon",Gb="GeometryCollection",Db="Circle";function Hb(a){a=z(a)?a:{};this.bb=bb("DIV","ole3-toolbar ol-unselectable ol-control");this.C=this.C=new ol.Collection(a.mc);this.C.forEach(this.Ua,this);this.C.on("add",function(a){this.Ua(a.element)},this);this.C.on("remove",function(a){a=a.element;a.disable();qb(a,"willEnable",this.ib,!1,this);var c=a.getElement();c&&c.parentNode&&c.parentNode.removeChild(c);null===this.a||a.setMap(null)},this);ol.control.Control.call(this,{element:this.bb,target:a.target});this.a=null}E(Hb,ol.control.Control);
r=Hb.prototype;r.ib=function(a){this.C.forEach(function(b){a.target!==b&&b.disable()})};r.setMap=function(a){Hb.Ha.setMap.call(this,a);this.C.forEach(function(b){b.setMap(a)});this.a=a};r.qa=function(a){this.C.push(a)};r.Fa=function(a){this.C.remove(a)};r.Ua=function(a){jb(a,"willEnable",this.ib,!1,this);var b=a.getElement();b.style["float"]=b.style["float"]?b.style["float"]:"left";this.bb.appendChild(b);null===this.a||a.setMap(this.a)};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function V(a){a=a||{};this.na=new Hb({mc:a.tools});this.setMap(a.map)}aa("ole3.Editor",V);V.prototype.setMap=function(a){null!=this.a&&this.a.removeControl(this.na);this.a=a;z(a)&&this.a.addControl(this.na)};V.prototype.setMap=V.prototype.setMap;V.prototype.qa=function(a){this.na.qa(a)};V.prototype.addTool=V.prototype.qa;V.prototype.Fa=function(a){this.na.Fa(a)};V.prototype.removeTool=V.prototype.Fa;function W(){this.B=new xb;this.Z={}}function Ib(a,b,c){a=H(a.B.search(b),Jb);H(a,c,void 0)}W.prototype.remove=function(a){var b=this.Z[C(a)];delete this.Z[C(a)];this.B.remove(b)};W.prototype.R=function(a,b){var c=Kb(a,b);this.Z[C(b)]=c;this.B.R(c)};W.prototype.update=function(a,b){var c=Kb(a,b),d=this.Z[C(b)];this.Z[C(b)]=c;this.B.remove(d);this.B.R(c)};W.prototype.getExtent=function(){return this.B.data.bbox.slice()};function Kb(a,b){var c=a.slice(0,4);c[4]=b;return c}
function Jb(a){return a[4]};function Lb(a,b,c,d){this.Ub=a;this.coordinate=b;this.ba=c;this.T=d}function Mb(a,b,c){this.J=b;this.aa=c;this.v=a}r=Mb.prototype;r.P=function(){return this.v};r.Ga=function(a){var b=this.J,c=this.aa,d;switch(a){case 0:return this.remove();case 2:d=b;break;case 1:d=c}if(!d)return!1;d.Ga(a);Nb(this.v,this);return!0};function X(a){var b=[],c=a.J;a=a.aa;c&&b.push(c.f[1]);a&&b.push(a.f[0]);return b}
r.hb=function(a){var b=this.I(),c=H(ra(b),function(a){return parseInt(a,10)});return Ka(c,function(c,e){var f=S(b[e],a);return z(c)&&f>=c.ba?c:new Lb(new Y(this,e,b[e]),b[e],f,!0)},void 0,this)};r.getExtent=function(){var a=this.I(),b=[],c=0,d;for(d in a)b[c++]=a[d];return ol.extent.boundingExtent(b)};r.I=function(){var a=this.J,b=this.aa,c={};a&&(a=a.I(),c[2]=a[2],c[0]=a[3]);b&&(b=b.I(),c[1]=b[1],0 in c||(c[0]=b[0]));return c};
function Ob(a){var b=a.J;a=a.aa;var c=[];b&&c.push(b);a&&c.push(a);return c}r.remove=function(){var a;a=this.v;var b=La(a.f,pa(this));if(0==b||b==a.f.length-1)a=!1;else{var c=a.f,d=c.splice(b,1)[0],e=Ob(d),f=e[0],e=e[1],c=c[b],h=X(d);h.push.apply(h,X(c));H(h,a.l.remove,a.l);h=[];h.push(d);h.push.apply(h,a.U.splice(b,1));H(h,a.gc,a);b=f.b;b.splice.apply(b,[2,2].concat(e.b.slice(2)));Pb(f);c.J=f;b=X(c);H(b,a.l.push,a.l);a.Ea(f);Qb(a);a=void 0}return a};
function Y(a,b,c){this.ob=b;this.sa=a;this.ga=c}Y.prototype.moveTo=function(a){var b=this.sa,c=this.ob,d=b.J,e=b.aa;switch(c){case 0:d&&Rb(d,3,a);case 1:e&&Rb(e,c,a);break;case 2:d&&Rb(d,c,a)}Nb(b.v,b);this.ga=a;return this};Y.prototype.remove=function(){return this.sa.Ga(this.ob)?null:this};Y.prototype.wa=function(){return this.ga.slice()};Y.prototype.P=function(){return this.sa.P()};
function Sb(a,b){ol.Object.call(this);this.b=a;this.f=[];this.f.push(new ol.Feature(new ol.geom.LineString(this.b.slice(0,2))));this.f.push(new ol.Feature(new ol.geom.LineString(this.b.slice(2,4))));this.v=b}E(Sb,ol.Object);r=Sb.prototype;r.P=function(){return this.v};r.getExtent=function(){var a=Tb(this).bbox();return[a.x.min,a.y.min,a.x.max,a.y.max]};r.Ga=function(a){if(1==a||2==a){var b=this.b,c=b[0],b=R(b[3].slice(),c),b=yb(b,a/3);this.b[a]=ol.coordinate.add(c.slice(),b);Pb(this)}};
r.getGeometry=function(){return Ub(this)};function Rb(a,b,c){0==b?ol.coordinate.add(a.b[1],R(c.slice(),a.b[0])):3==b&&ol.coordinate.add(a.b[2],R(c.slice(),a.b[3]));a.b[b]=c;Pb(a)}
r.hb=function(a){var b,c;b=Ub(this);var d=b.length-1;c=[];for(var e=0;e<d;e++){var f=b.slice(e,e+2),h=a[0],m=a[1],p=f[0],v=f[1],f=p[0],p=p[1],u=v[0],v=v[1],q=u-f,x=v-p,h=0===q&&0===x?0:(q*(h-f)+x*(m-p))/(q*q+x*x||0),y=m=void 0;0>=h?(m=f,y=p):1<=h?(m=u,y=v):(m=f+h*q,y=p+h*x);c.push([m,y])}e=f=-1;for(p=c.length-1;0<=p;--p)if(u=S(a,c[p]),u<e||0>f)f=p,e=u;a=f;b=1*(a+S(b[a],c[a])/S.apply(null,b.slice(a,a+2)))/d;c=c[a];return new Lb(new Vb(this,b,c),c,e,!1)};r.I=function(){return this.b.slice()};
function Ub(a){var b=a.b,c=R(b[1].slice(),b[0]),d=R(b[2].slice(),b[0]),b=R(b[3].slice(),b[0]);if(.01>Math.abs(b[1]*c[0]+-b[0]*c[1])&&.01>Math.abs(b[1]*d[0]+-b[0]*d[1]))return a=a.b,[a[0],a[3]];c=Tb(a);a.Y=a.Y;return H(c.Mb(100),a.Y)}function Tb(a){a=H(a.b,a.lc);return new wb(a)}r.lc=function(a){return{x:a[0],y:a[1]}};r.Y=function(a){return[a.x,a.y]};
function Pb(a){var b=a.b;z(a.f)&&(a.f[0].setGeometry(new ol.geom.LineString(b.slice(0,2))),a.f[1].setGeometry(new ol.geom.LineString(b.slice(2,4))))}function Vb(a,b,c){this.Va=a;this.cc=b;this.ga=c}
Vb.prototype.moveTo=function(a){var b=this.Va,c=this.cc,c=Tb(b).split(c),d;d=H(c.right.points,b.Y);d=new b.constructor(d,b.v);b.b=H(c.left.points,b.Y);Pb(b);c=new Mb(b.v,b,d);b=b.v;d=Ob(c);var e=d[0];d=d[1];var f=La(b.U,pa(e));b.f[f+1].J=d;b.Ea(e);e=f+1;f=X(c);f.push.apply(f,X(b.f[e]));H(f,b.l.remove,b.l);H(f,b.l.push,b.l);b.U.splice(e,0,d);b.f.splice(e,0,c);H([d,c],b.Ta,b);Qb(b);return(new Y(c,0,c.I()[0])).moveTo(a)};Vb.prototype.remove=function(){return this};Vb.prototype.wa=function(){return this.ga.slice()};
Vb.prototype.P=function(){return this.Va.P()};function Wb(a){this.X=a;this.l=new ol.Collection;this.U=[];this.f=[];this.s=new W;a=this.X.get("bezier");if(!a){a=this.X.getGeometry().getCoordinates();for(var b=[],c=0,d=a.length-1;c<d;c++)b.push(this.Hb.apply(this,a.slice(c,c+2)));a=b}for(var e=null,b=0,c=a.length-1;b<=c;b++)d=new Sb(a[b],this),e=new Mb(this,e,d),Xb(this,d,e),e=d;e=new Mb(this,e,null);Xb(this,null,e)}r=Wb.prototype;r.getFeature=function(){return this.X};
function Nb(a,b){var c=Ob(b);c.push(b);H(c,a.Ea,a);Qb(a)}function Xb(a,b,c){var d=X(c);H(d,a.l.push,a.l);a.f.push(c);c=[c];b&&(a.U.push(b),c.push(b));H(c,a.Ta,a)}r.Ea=function(a){this.s.update(a.getExtent(),a)};r.gc=function(a){this.s.remove(a)};r.Ta=function(a){this.s.R(a.getExtent(),a)};r.getExtent=function(){return this.s.getExtent()};
function Yb(a,b,c,d){a=a.s;d=z(d)?H(a.B.search(d),Jb):H(a.B.all(),Jb);return(d=Ka(d,function(a,d){var h=d.hb(b);if(null===a)return h;if(h.T!=a.T){var m=h.T?h:a;if(c(m.coordinate))return m}return h.ba<a.ba?h:a},null))&&c(d.coordinate)?d:void 0}function Qb(a){for(var b=a.U,c=[],d=0,e=b.length;d<e;d++){var f=0==d?0:1;c.push.apply(c,b[d].getGeometry().slice(f))}a.X.getGeometry().setCoordinates(c);a.X.set("bezier",H(b,function(a){return a.I()}))}
r.Hb=function(a,b){var c=R(b.slice(),a);yb(c,1/3);return[a,ol.coordinate.add(a.slice(),c),R(b.slice(),c),b]};function Zb(a){ol.interaction.Pointer.call(this,{handleDownEvent:D(this.Qb,this),handleDragEvent:D(this.Rb,this),handleUpEvent:D(this.Xb,this),handleMoveEvent:D(this.Vb,this)});this.M=null;this.Aa=this.Ba=!1;this.D=null;this.kb=[0,0];this.a=null;this.s=new W;this.$=z(a.pixelTolerance)?a.pixelTolerance:10;this.A=new ol.FeatureOverlay;this.A.setStyle(z(a.style)?a.style:$b());this.Ia={LineString:this.oc};this.ia=a.features;this.ia.forEach(this.Ra,this);this.ia.on("add",this.Sb,this);this.ia.on("remove",
this.Tb,this)}E(Zb,ol.interaction.Pointer);r=Zb.prototype;r.Ra=function(a){var b=a.getGeometry();z(this.Ia[b.getType()])&&this.Ia[b.getType()].call(this,a,b);a=this.a;null===a||ac(this,this.kb,a)};function bc(a,b){var c=a.s,d,e=[];Ib(c,b.getGeometry().getExtent(),function(a){b===a.getFeature()&&e.push(a)});for(d=e.length;0<d;--d)H(e[d].l,a.A.removeFeature,a.A),c.remove(e[d])}r.Sb=function(a){this.Ra(a.element)};
r.Tb=function(a){bc(this,a.element);null!==this.M&&0===this.ia.getLength()&&(this.A.removeFeature(this.M),this.M=null)};
function ac(a,b,c){function d(a){return m(a,e,c)<=p}a.kb=b;var e=c.getCoordinateFromPixel(b),f=c.getCoordinateFromPixel([b[0]-a.$,b[1]+a.$]);b=c.getCoordinateFromPixel([b[0]+a.$,b[1]-a.$]);var h=ol.extent.boundingExtent([f,b]),m=D(a.dc,a),p=a.$,f=H(a.s.B.search(h),Jb);0<f.length?(f=H(f,function(a){return Yb(a,e,d,h)}),f=Ja(f,z),f=Ka(f,function(a,b){if(null===a)return b;if(a.T!=b.T){var c=b.T?b:a;if(d(c.coordinate))return c}return b.ba<a.ba?b:a},null),a.D=f?f.Ub:null):a.D=null;cc(a)}
r.dc=function(a,b,c){a=c.getPixelFromCoordinate(a);b=c.getPixelFromCoordinate(b);return Math.sqrt(S(a,b))};function cc(a){var b=a.D,c=a.M;null===b?null!==c&&(a.A.removeFeature(c),a.M=null):null===c?(c=new ol.Feature(new ol.geom.Point(b.wa())),a.M=c,a.A.addFeature(c)):c.getGeometry().setCoordinates(b.wa())}r.oc=function(a){a=new Wb(a);var b=a.l;b.forEach(this.Sa,this);b.on("add",this.Ob,this);b.on("remove",this.Wb,this);this.s.R(a.getExtent(),a)};r.Sa=function(a){this.A.addFeature(a)};r.Ob=function(a){this.Sa(a.element)};
r.Wb=function(a){this.A.removeFeature(a.element)};r.Vb=function(a){this.Ba||ac(this,a.pixel,a.map)};r.Qb=function(){return null===this.M?!1:this.Ba=!0};r.Rb=function(a){this.D=this.D.moveTo(a.coordinate);cc(this);this.Aa=!0};r.Xb=function(){var a=this.D.P();this.Aa||(this.D=this.D.remove(),cc(this));this.s.update(a.getExtent(),a);return this.Ba=this.Aa=!1};r.setMap=function(a){this.A.setMap(a);this.a=a};function $b(){var a=zb();return function(b){return b.getGeometry().getType()==U?a[U]:a[Eb]}};function Z(a){var b=z(a)?a:{};this.fb=b.eb||ba;this.va=b.Za||ba;a=b.label||"T";b=b.ca;a=B(a)?document.createTextNode(String(a)):a;var c={};b&&(c.title=b);this.cb=bb("BUTTON",c,a);jb(this.cb,"click",this.Pb,!1,this);this.H=!1;this.a=null;Q.call(this)}E(Z,Q);Z.prototype.getElement=function(){return this.cb};Z.prototype.Pb=function(){null!==this.a&&this.dispatchEvent(this.H?"willDisable":"willEnable")&&((this.H?this.va:this.fb)(this.a),this.H=!this.H)};
Z.prototype.disable=function(){null!==this.a&&(this.dispatchEvent("willDisable"),this.va(this.a),this.H=!1)};Z.prototype.setMap=function(a){this.H&&null!==this.a&&this.va(this.a);this.a=a;this.H&&this.fb(this.a)};function dc(a,b){this.Da=b;this.Yb=a;this.w=null;var c={eb:D(this.za,this),Za:D(this.ya,this)};b.label&&(c.label=b.label,"label"in b&&delete b.label);b.ca&&(c.ca=b.ca,"tooltip"in b&&delete b.tooltip);Z.call(this,c)}E(dc,Z);dc.prototype.za=function(a){this.w=new this.Yb(this.Da);a.addInteraction(this.w)};
dc.prototype.ya=function(a){a.removeInteraction(this.w);this.w=null};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function ec(a){this.Da=a;this.w=null;a={eb:D(this.za,this),Za:D(this.ya,this),label:"B",ca:"Modify features as bezier curves"};Z.call(this,a)}E(ec,Z);aa("ole3.tool.BezierEdit",ec);ec.prototype.za=function(a){this.w=new Zb(this.Da);a.addInteraction(this.w)};ec.prototype.ya=function(a){a.removeInteraction(this.w);this.w=null};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function fc(a){var b={label:"M",ca:"Modify features"};ta(b,a);dc.call(this,ol.interaction.Modify,b)}E(fc,dc);aa("ole3.tool.Modify",fc);})();
