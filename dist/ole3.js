(function(){var r,x=this;function z(a){return void 0!==a}function aa(){}
function A(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ba(a){var b=A(a);return"array"==b||"object"==b&&"number"==typeof a.length}function B(a){return"string"==typeof a}function ca(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function C(a){return a[da]||(a[da]=++ea)}var da="closure_uid_"+(1E9*Math.random()>>>0),ea=0;function fa(a,b,c){return a.call.apply(a.bind,arguments)}
function ga(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function D(a,b,c){D=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga;return D.apply(null,arguments)}
function E(a,b){var c=a.split("."),d=x;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&z(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function F(a,b){function c(){}c.prototype=b.prototype;a.Ka=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sc=function(a,c,f){for(var g=Array(arguments.length-2),m=2;m<arguments.length;m++)g[m-2]=arguments[m];return b.prototype[c].apply(a,g)}};function ha(){0!=ia&&C(this);this.bb=this.bb;this.dc=this.dc}var ia=0;ha.prototype.bb=!1;function G(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.L=!1;this.sb=!0}G.prototype.stopPropagation=function(){this.L=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.sb=!1};var ja="closure_listenable_"+(1E6*Math.random()|0),la=0;function ma(a,b,c,d,e){this.listener=a;this.na=null;this.src=b;this.type=c;this.ea=!!d;this.ka=e;this.key=++la;this.R=this.da=!1}function na(a){a.R=!0;a.listener=null;a.na=null;a.src=null;a.ka=null};function oa(a){return function(b){return a===b}};function pa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function qa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ra.length;f++)c=ra[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function ta(a){var b=arguments.length;if(1==b&&"array"==A(arguments[0]))return ta.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};ta("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));function ua(a){ua[" "](a);return a}ua[" "]=aa;var va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function wa(a){if(!xa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ya,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(za,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Aa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ba,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ca,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Da,"&#0;"));return a}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/"/g,Ca=/'/g,Da=/\x00/g,xa=/[\x00&<>"']/;
function Ea(a,b){return a<b?-1:a>b?1:0};var H=Array.prototype,Ga=H.indexOf?function(a,b,c){return H.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(B(a))return B(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=H.forEach?function(a,b,c){H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=H.filter?function(a,b,c){return H.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=B(a)?
a.split(""):a,m=0;m<d;m++)if(m in g){var n=g[m];b.call(c,n,m,a)&&(e[f++]=n)}return e},I=H.map?function(a,b,c){return H.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ja=H.reduce?function(a,b,c,d){d&&(b=D(b,d));return H.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ha(a,function(c,g){e=b.call(d,e,c,g,a)});return e};
function Ka(a,b){for(var c=a.length,d=B(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return e;return-1}function La(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};function J(a){this.src=a;this.o={};this.qa=0}J.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.qa++);var g=Ma(a,b,d,e);-1<g?(b=a[g],c||(b.da=!1)):(b=new ma(b,this.src,f,!!d,e),b.da=c,a.push(b));return b};J.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Ma(e,b,c,d);return-1<b?(na(e[b]),H.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.qa--),!0):!1};
function Na(a,b){var c=b.type;if(c in a.o){var d=a.o[c],e=Ga(d,b),f;(f=0<=e)&&H.splice.call(d,e,1);f&&(na(b),0==a.o[c].length&&(delete a.o[c],a.qa--))}}J.prototype.za=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=Ma(a,b,c,d));return-1<e?a[e]:null};function Ma(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.R&&f.listener==b&&f.ea==!!c&&f.ka==d)return e}return-1};var K;a:{var Oa=x.navigator;if(Oa){var Pa=Oa.userAgent;if(Pa){K=Pa;break a}}K=""};function L(){return-1!=K.indexOf("Edge")};var Qa=-1!=K.indexOf("Opera")||-1!=K.indexOf("OPR"),M=-1!=K.indexOf("Edge")||-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE"),N=-1!=K.indexOf("Gecko")&&!(-1!=K.toLowerCase().indexOf("webkit")&&!L())&&!(-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE"))&&!L(),Ra=-1!=K.toLowerCase().indexOf("webkit")&&!L();function Sa(){var a=K;if(N)return/rv\:([^\);]+)(\)|;)/.exec(a);if(M&&L())return/Edge\/([\d\.]+)/.exec(a);if(M)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ra)return/WebKit\/(\S+)/.exec(a)}
function Ta(){var a=x.document;return a?a.documentMode:void 0}var Ua=function(){if(Qa&&x.opera){var a=x.opera.version;return"function"==A(a)?a():a}var a="",b=Sa();b&&(a=b?b[1]:"");return M&&!L()&&(b=Ta(),b>parseFloat(a))?String(b):a}(),Va={};
function O(a){var b;if(!(b=Va[a])){b=0;for(var c=va(String(Ua)).split("."),d=va(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",m=d[f]||"",n=RegExp("(\\d*)(\\D*)","g"),v=RegExp("(\\d*)(\\D*)","g");do{var u=n.exec(g)||["","",""],q=v.exec(m)||["","",""];if(0==u[0].length&&0==q[0].length)break;b=Ea(0==u[1].length?0:parseInt(u[1],10),0==q[1].length?0:parseInt(q[1],10))||Ea(0==u[2].length,0==q[2].length)||Ea(u[2],q[2])}while(0==b)}b=Va[a]=0<=b}return b}
var Wa=x.document,Xa=Ta(),Ya=!Wa||!M||!Xa&&L()?void 0:Xa||("CSS1Compat"==Wa.compatMode?parseInt(Ua,10):5);var Za=!M||M&&(L()||9<=Ya);!N&&!M||M&&M&&(L()||9<=Ya)||N&&O("1.9.1");M&&O("9");function $a(a,b){pa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in ab?a.setAttribute(ab[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var ab={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function bb(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!Za&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',wa(g.name),'"');if(g.type){f.push(' type="',wa(g.type),'"');var m={};sa(m,g);delete m.type;g=m}f.push(">");f=f.join("")}f=e.createElement(f);g&&(B(g)?f.className=g:"array"==A(g)?f.className=g.join(" "):$a(f,g));2<d.length&&cb(e,f,d);return f}
function cb(a,b,c){function d(c){c&&b.appendChild(B(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!ba(f)||ca(f)&&0<f.nodeType?d(f):Ha(db(f)?La(f):f,d)}}function db(a){if(a&&"number"==typeof a.length){if(ca(a))return"function"==typeof a.item||"string"==typeof a.item;if("function"==A(a))return"function"==typeof a.item}return!1};var eb=!M||M&&(L()||9<=Ya),fb=M&&!O("9");!Ra||O("528");N&&O("1.9b")||M&&O("8")||Qa&&O("9.5")||Ra&&O("528");N&&!O("8")||M&&O("9");function P(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.W=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(N){var e;a:{try{ua(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=
a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=Ra||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=Ra||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.W=a;a.defaultPrevented&&this.preventDefault()}}F(P,G);P.prototype.stopPropagation=function(){P.Ka.stopPropagation.call(this);this.W.stopPropagation?this.W.stopPropagation():this.W.cancelBubble=!0};P.prototype.preventDefault=function(){P.Ka.preventDefault.call(this);var a=this.W;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var gb="closure_lm_"+(1E6*Math.random()|0),hb={},ib=0;
function jb(a,b,c,d,e){if("array"==A(b))for(var f=0;f<b.length;f++)jb(a,b[f],c,d,e);else if(c=kb(c),a&&a[ja])a.O.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=lb(a);g||(a[gb]=g=new J(a));c=g.add(b,c,!1,d,e);if(!c.na){d=mb();c.na=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(ob(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");ib++}}}
function mb(){var a=pb,b=eb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function qb(a,b,c,d,e){if("array"==A(b))for(var f=0;f<b.length;f++)qb(a,b[f],c,d,e);else c=kb(c),a&&a[ja]?a.O.remove(String(b),c,d,e):a&&(a=lb(a))&&(b=a.za(b,c,!!d,e))&&rb(b)}
function rb(a){if("number"!=typeof a&&a&&!a.R){var b=a.src;if(b&&b[ja])Na(b.O,a);else{var c=a.type,d=a.na;b.removeEventListener?b.removeEventListener(c,d,a.ea):b.detachEvent&&b.detachEvent(ob(c),d);ib--;(c=lb(b))?(Na(c,a),0==c.qa&&(c.src=null,b[gb]=null)):na(a)}}}function ob(a){return a in hb?hb[a]:hb[a]="on"+a}function sb(a,b,c,d){var e=!0;if(a=lb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ea==c&&!f.R&&(f=tb(f,d),e=e&&!1!==f)}return e}
function tb(a,b){var c=a.listener,d=a.ka||a.src;a.da&&rb(a);return c.call(d,b)}
function pb(a,b){if(a.R)return!0;if(!eb){var c;if(!(c=b))a:{c=["window","event"];for(var d=x,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new P(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,m=e.length-1;!c.L&&0<=m;m--){c.currentTarget=e[m];var n=sb(e[m],f,!0,c),d=d&&n}for(m=0;!c.L&&m<e.length;m++)c.currentTarget=
e[m],n=sb(e[m],f,!1,c),d=d&&n}return d}return tb(a,new P(b,this))}function lb(a){a=a[gb];return a instanceof J?a:null}var ub="__closure_events_fn_"+(1E9*Math.random()>>>0);function kb(a){if("function"==A(a))return a;a[ub]||(a[ub]=function(b){return a.handleEvent(b)});return a[ub]};function Q(){ha.call(this);this.O=new J(this);this.Fb=this;this.pb=null}F(Q,ha);Q.prototype[ja]=!0;Q.prototype.addEventListener=function(a,b,c,d){jb(this,a,b,c,d)};Q.prototype.removeEventListener=function(a,b,c,d){qb(this,a,b,c,d)};
Q.prototype.dispatchEvent=function(a){var b,c=this.pb;if(c)for(b=[];c;c=c.pb)b.push(c);var c=this.Fb,d=a.type||a;if(B(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);sa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.L&&0<=g;g--)f=a.currentTarget=b[g],e=vb(f,d,!0,a)&&e;a.L||(f=a.currentTarget=c,e=vb(f,d,!0,a)&&e,a.L||(e=vb(f,d,!1,a)&&e));if(b)for(g=0;!a.L&&g<b.length;g++)f=a.currentTarget=b[g],e=vb(f,d,!1,a)&&e;return e};
function vb(a,b,c,d){b=a.O.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.R&&g.ea==c){var m=g.listener,n=g.ka||g.src;g.da&&Na(a.O,g);e=!1!==m.call(n,d)&&e}}return e&&0!=d.sb}Q.prototype.za=function(a,b,c,d){return this.O.za(String(a),b,c,d)};var wb;
(function(){var a={};(function(){function b(a){var b=a&&a.forEach?a:arguments;if("object"===typeof b[0])for(var b=[],c=0;c<a.length;c++)["x","y","z"].forEach(function(h){"undefined"!==typeof a[c][h]&&b.push(a[c][h])});var h=b.length;if(6!==h&&8!==h&&9!==h&&12!==h)throw console.log(a),Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var d=9===h||12===h;this.v=d;for(var k=[],l=0,f=d?3:2;l<h;l+=f){var p={x:b[l],y:b[l+1]};d&&(p.z=b[l+2]);k.push(p)}this.g=k.length-
1;this.points=k;h=["x","y"];d&&h.push("z");this.$a=h;(function(a){for(var b=t.align(k,{G:k[0],H:k[a.g]}),Fa=0;Fa<b.length;Fa++)if(1E-4<e(b[Fa].y)){a.Ra=!1;return}a.Ra=!0})(this);this.i=0;this.f=1;this.update()}function c(a){this.N=[];this.v=!1;a&&(this.N=a,this.v=this.N[0].v)}function d(a){return 0>a?-Math.pow(-a,1/3):Math.pow(a,1/3)}var e=Math.abs,f=Math.min,g=Math.max,m=Math.cos,n=Math.sin,v=Math.acos,u=Math.atan2,q=Math.sqrt,w=Math.PI,y=2*w,l=w/2,p={x:0,y:0,z:0},t={Ma:[-.06405689286260563,.06405689286260563,
-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],vb:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,
.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],Gb:function(a,b){var c=b(a),c=c.x*c.x+c.y*c.y;"undefined"!==typeof c.z&&(c+=c.z*c.z);return q(c)},length:function(a){var b=0,c=this.Ma.length,h,
d;for(h=0;h<c;h++)d=.5*this.Ma[h]+.5,b+=this.vb[h]*this.Gb(d,a);return.5*b},map:function(a,b,c,h,d){return h+(a-b)/(c-b)*(d-h)},bc:function(a,b,c){var h={x:b.x+a*(c.x-b.x),y:b.y+a*(c.y-b.y)};b.z&&c.z&&(h.z=b.z+a*(c.z-b.z));return h},hc:function(a){var b=a.x+"/"+a.y;"undefined"!==typeof a.z&&(b+="/"+a.z);return b},rb:function(a){return"["+a.map(this.hc).join(", ")+"]"},Lb:function(a){return JSON.parse(JSON.stringify(a))},angle:function(a,b,c){var h=b.x-a.x;b=b.y-a.y;var d=c.x-a.x;a=c.y-a.y;c=h*a-b*
d;var k=q(h*h+b*b),e=q(d*d+a*a);return u(c,h/k*(d/e)+b/k*(a/e))},Mb:function(a,b){var c=a.x-b.x,h=a.y-b.y;return q(c*c+h*h)},nb:function(a,b,c,h,d,k,e,l){var f=(a-c)*(k-l)-(b-h)*(d-e);return 0==f?!1:{x:((a*h-b*c)*(d-e)-(a-c)*(d*l-k*e))/f,y:((a*h-b*c)*(k-l)-(b-h)*(d*l-k*e))/f}},Fa:function(a,b,c,h){return this.nb(a.x,a.y,b.x,b.y,c.x,c.y,h.x,h.y)},yc:function(a,b){return this.Fa(a,a.ca,b,b.ca)},la:function(a,c){var ka=a.x,h=a.y,d=c.x,k=c.y,e=(d-ka)/3,l=(k-h)/3;return new b(ka,h,ka+e,h+l,ka+2*e,h+2*
l,d,k)},Ob:function(a){var b=99999999,c=b,h=-b,d=h;a.forEach(function(a){a=a.bbox();b>a.x.min&&(b=a.x.min);c>a.y.min&&(c=a.y.min);h<a.x.max&&(h=a.x.max);d<a.y.max&&(d=a.y.max)});return{x:{min:b,K:(b+h)/2,max:h,size:h-b},y:{min:c,K:(c+d)/2,max:d,size:d-c}}},mc:function(a,b,c,h){if(!this.ua(b,h))return[];var d=[],k=[c.tb,c.forward,c.back,c.ib];[a.tb,a.forward,a.back,a.ib].forEach(function(b){b.qc||k.forEach(function(h){if(!h.qc){var U=b.intersects(h);0<U.length&&(U.tc=b,U.uc=h,U.Bc=a,U.Cc=c,d.push(U))}})});
return d},zc:function(a,b){var c=a.points.length,h=this.la(b.points[b.points.length-1],a.points[0]),c=this.la(a.points[c-1],b.points[0]),d={tb:h,forward:a,back:b,ib:c,bbox:this.Ob([h,a,b,c])},k=this;d.xc=function(a){return k.mc(d,d.bbox,a,a.bbox)};return d},Qb:function(a,b,c){if(!c)return{min:0,max:0};var h=1.8446744073709552E19,d=-h,k;-1===c.indexOf(0)&&(c=[0].concat(c));-1===c.indexOf(1)&&c.push(1);for(var e=0,l=c.length;e<l;e++)k=c[e],k=a.get(k),k[b]<h&&(h=k[b]),k[b]>d&&(d=k[b]);return{min:h,K:(h+
d)/2,max:d,size:d-h}},align:function(a,b){var c=b.G.x,h=b.G.y,d=-u(b.H.y-h,b.H.x-c);return a.map(function(a){return{x:(a.x-c)*m(d)-(a.y-h)*n(d),y:(a.x-c)*n(d)+(a.y-h)*m(d)}})},kc:function(a,b){function c(a){return 0<=a&&1>=a}b=b||{G:{x:0,y:0},H:{x:1,y:0}};var h=a.length-1,e=this.align(a,b);if(2===h){var h=e[0].y,k=e[1].y,e=e[2].y,l=h-2*k+e;return 0!==l?(e=-q(k*k-h*e),h=-h+k,[-(e+h)/l,-(-e+h)/l].filter(c)):k!==e&&0===l?[(2*k-e)/2*(k-e)].filter(c):[]}var f=e[0].y,k=e[1].y,h=e[2].y,l=-f+3*k-3*h+e[3].y,
h=(3*f-6*k+3*h)/l,k=(-3*f+3*k)/l,e=(3*k-h*h)/3,p=e/3,l=(2*h*h*h-9*h*k+f/l*27)/27,k=l/2,f=k*k+p*p*p;if(0>f)return e=-e/3,e=q(e*e*e),l=-l/(2*e),k=v(-1>l?-1:1<l?1:l),f=2*d(e),e=f*m(k/3)-h/3,l=f*m((k+y)/3)-h/3,h=f*m((k+2*y)/3)-h/3,[e,l,h].filter(c);if(0===f)return e=0>k?d(-k):-d(k),[2*e-h/3,-e-h/3].filter(c);l=q(f);e=d(-k+l);l=d(k+l);return[e-l-h/3].filter(c)},cb:function(a){if(3===a.length){var b=a[0],c=a[1],d=a[2];a=b-2*c+d;return 0!==a?(d=-q(c*c-b*d),b=-b+c,[-(d+b)/a,-(-d+b)/a]):c!==d&&0===a?[(2*c-
d)/(2*(c-d))]:[]}if(2===a.length)return b=a[0],c=a[1],b!==c?[b/(b-c)]:[]},ua:function(a,b){var c=["x","y"],d=c.length,l,k,f,p;for(l=0;l<d;l++)if(k=c[l],f=a[k].K,p=b[k].K,k=(a[k].size+b[k].size)/2,e(f-p)>=k)return!1;return!0},Nb:function(a,b){b.x.min<a.x.min&&(a.x.min=b.x.min);b.y.min<a.y.min&&(a.y.min=b.y.min);b.z&&b.z.min<a.z.min&&(a.z.min=b.z.min);b.x.max>a.x.max&&(a.x.max=b.x.max);b.y.max>a.y.max&&(a.y.max=b.y.max);b.z&&b.z.max>a.z.max&&(a.z.max=b.z.max);a.x.K=(a.x.min+a.x.max)/2;a.y.K=(a.y.min+
a.y.max)/2;a.z&&(a.z.K=(a.z.min+a.z.max)/2);a.x.size=a.x.max-a.x.min;a.y.size=a.y.max-a.y.min;a.z&&(a.z.size=a.z.max-a.z.min)},ob:function(a,b){var c=a.bbox(),d=b.bbox();if(.5>c.x.size+c.y.size&&.5>d.x.size+d.y.size)return[(1E5*(a.i+a.f)/2|0)/1E5+"/"+(1E5*(b.i+b.f)/2|0)/1E5];var c=a.split(.5),d=b.split(.5),c=[{left:c.left,right:d.left},{left:c.left,right:d.right},{left:c.right,right:d.right},{left:c.right,right:d.left}],c=c.filter(function(a){return t.ua(a.left.bbox(),a.right.bbox())}),e=[];if(0===
c.length)return e;c.forEach(function(a){e=e.concat(t.ob(a.left,a.right))});return e=e.filter(function(a,b){return e.indexOf(a)===b})},wc:function(a,b,c){var d=b.x-a.x,e=b.y-a.y,k=c.x-b.x,f=c.y-b.y,p=d*m(l)-e*n(l),d=d*n(l)+e*m(l),e=k*m(l)-f*n(l),k=k*n(l)+f*m(l),f=(a.x+b.x)/2,g=(a.y+b.y)/2,q=(b.x+c.x)/2,nb=(b.y+c.y)/2,p=t.nb(f,g,f+p,g+d,q,nb,q+e,nb+k),d=t.Mb(p,a);a=u(a.y-p.y,a.x-p.x);b=u(b.y-p.y,b.x-p.x);c=u(c.y-p.y,c.x-p.x);if(a<c){if(a>b||b>c)a+=y;a>c&&(b=c,c=a,a=b)}else c<b&&b<a?(b=c,c=a,a=b):c+=
y;p.Ac=a;p.e=c;p.r=d;return p}};c.prototype={valueOf:function(){return this.toString()},toString:function(){return t.rb(this.points)},length:function(){return this.N.map(function(a){return a.length()}).reduce(function(a,b){return a+b})},curve:function(a){return this.N[a]},bbox:function(){for(var a=this.N,b=a[0].bbox(),c=1;c<a.length;c++)t.Nb(b,a[c].bbox());return b},offset:function(a){var b=[];this.N.forEach(function(c){b=b.concat(c.offset(a))});return new c(b)}};b.vc=function(a){var c=-1<a.indexOf("m");
a=a.match(/(-?\d+(\.\d+)*)\s*[, ]\s*(-?\d+(\.\d+)*)/g).map(function(a){a=a.split(" ").map(function(a){return parseFloat(a)});return{x:a[0],y:a[1]}});if(!c)return new b(a);var d=[a[0]];a.reduce(function(a,b){b.x+=a.x;b.y+=a.y;d.push({x:b.x,y:b.y});return b});return new b(d)};b.Dc=t;b.prototype={valueOf:function(){return this.toString()},toString:function(){return t.rb(this.points)},update:function(){this.ga=[];for(var a=this.points,b=a.length,c=b-1;1<b;b--,c--){for(var d=[],e=0,l;e<c;e++)l={x:c*(a[e+
1].x-a[e].x),y:c*(a[e+1].y-a[e].y)},this.v&&(l.z=c*(a[e+1].z-a[e].z)),d.push(l);this.ga.push(d);a=d}this.Jb()},Jb:function(){var a=this.points;this.Ib=0<t.angle(a[0],a[this.g],a[1])},length:function(){return t.length(this.V.bind(this))},Pb:function(a){a=a||100;for(var b=[],c=0;c<=a;c++)b.push(this.Ya(c/a));return b},get:function(a){return this.Ya(a)},Ya:function(a){if(0===a)return this.points[0];if(1===a)return this.points[this.g];var b=1-a,c=b*b,d=a*a,e,l,f,t=0,g=this.points;2===this.g&&(g=[g[0],
g[1],g[2],p],e=c,l=b*a*2,f=d);3===this.g&&(e=c*b,l=c*a*3,f=b*d*3,t=a*d);a={x:e*g[0].x+l*g[1].x+f*g[2].x+t*g[3].x,y:e*g[0].y+l*g[1].y+f*g[2].y+t*g[3].y};this.v&&(a.z=e*g[0].z+l*g[1].z+f*g[2].z+t*g[3].z);return a},ic:function(){var a=this.points,c=[a[0]],d,e=a.length,l,f;for(d=1;d<e;d++)l=a[d],f=a[d-1],c[d]={x:(e-d)/e*l.x+d/e*f.x,y:(e-d)/e*l.y+d/e*f.y};c[e]=a[e-1];return new b(c)},V:function(a){var b=1-a,c,d,e=0,l=this.ga[0];2===this.g&&(l=[l[0],l[1],p],c=b,d=a);3===this.g&&(c=b*b,d=b*a*2,e=a*a);a=
{x:c*l[0].x+d*l[1].x+e*l[2].x,y:c*l[0].y+d*l[1].y+e*l[2].y};this.v&&(a.z=c*l[0].z+d*l[1].z+e*l[2].z);return a},ma:function(a){return this.v?this.xb(a):this.wb(a)},wb:function(a){a=this.V(a);var b=q(a.x*a.x+a.y*a.y);return{x:-a.y/b,y:a.x/b}},xb:function(a){var b=this.V(a);a=this.V(a+.01);var c=q(b.x*b.x+b.y*b.y+b.z*b.z),d=q(a.x*a.x+a.y*a.y+a.z*a.z);b.x/=c;b.y/=c;b.z/=c;a.x/=d;a.y/=d;a.z/=d;c=a.y*b.z-a.z*b.y;d=a.z*b.x-a.x*b.z;a=a.x*b.y-a.y*b.x;var e=q(c*c+d*d+a*a),c=c/e,d=d/e;a/=e;a=[c*c,c*d-a,c*a+
d,c*d+a,d*d,d*a-c,c*a-d,d*a+c,a*a];return{x:a[0]*b.x+a[1]*b.y+a[2]*b.z,y:a[3]*b.x+a[4]*b.y+a[5]*b.z,z:a[6]*b.x+a[7]*b.y+a[8]*b.z}},split:function(a,c){if(0===a&&c)return this.split(c).left;if(1===c)return this.split(a).right;var d=this.points,e=[],l,f=[],p=0,g=0,m=0;f[p++]=d[0];f[p++]=d[1];f[p++]=d[2];for(3===this.g&&(f[p++]=d[3]);1<d.length;){e=[];g=0;for(m=d.length-1;g<m;g++)l=t.bc(a,d[g],d[g+1]),f[p++]=l,e.push(l);d=e}d={left:2===this.g?new b([f[0],f[3],f[5]]):new b([f[0],f[4],f[7],f[9]]),right:2===
this.g?new b([f[5],f[4],f[2]]):new b([f[9],f[8],f[6],f[3]]),span:f};d.left.i=t.map(0,0,1,this.i,this.f);d.left.f=t.map(a,0,1,this.i,this.f);d.right.i=t.map(a,0,1,this.i,this.f);d.right.f=t.map(1,0,1,this.i,this.f);if(!c)return d;c=t.map(c,a,1,0,1);return d.right.split(c).left},lb:function(){var a={},b=[],c,d;this.$a.forEach(function(e){d=function(a){return a[e]};c=this.ga[0].map(d);a[e]=t.cb(c);3===this.g&&(c=this.ga[1].map(d),a[e]=a[e].concat(t.cb(c)));a[e]=a[e].filter(function(a){return 0<=a&&1>=
a});b=b.concat(a[e].sort())}.bind(this));b.sort();a.values=b;return a},bbox:function(){var a=this.lb(),b={};this.$a.forEach(function(c){b[c]=t.Qb(this,c,a[c])}.bind(this));return b},ec:function(a){var b=this.bbox();a=a.bbox();return t.ua(b,a)},offset:function(a,c){if("undefined"!==typeof c){var d=this.get(a),e=this.ma(a),l={ca:d,n:e,x:d.x+e.x*c,y:d.y+e.y*c};this.v&&(l.z=d.z+e.z*c);return l}if(this.Ra){var f=this.ma(0),d=this.points.map(function(b){var c={x:b.x+a*f.x,y:b.y+a*f.y};b.z&&e.z&&(c.z=b.z+
a*f.z);return c});return[new b(d)]}return this.reduce().map(function(b){return b.scale(a)})},nc:function(){if(3===this.g){var a=t.angle(this.points[0],this.points[3],this.points[1]),b=t.angle(this.points[0],this.points[3],this.points[2]);if(0<a&&0>b||0>a&&0<b)return!1}var a=this.ma(0),b=this.ma(1),c=a.x*b.x+a.y*b.y;this.v&&(c+=a.z*b.z);return e(v(c))<w/3},reduce:function(){var a,b=0,c=0,d,l=[],f=[],p=this.lb().values;-1===p.indexOf(0)&&(p=[0].concat(p));-1===p.indexOf(1)&&p.push(1);b=p[0];for(a=1;a<
p.length;a++)c=p[a],d=this.split(b,c),d.i=b,d.f=c,l.push(d),b=c;l.forEach(function(a){for(c=b=0;1>=c;)for(c=b+.01;1.01>=c;c+=.01)if(d=a.split(b,c),!d.nc()){c-=.01;if(.01>e(b-c))return[];d=a.split(b,c);d.i=t.map(b,0,1,a.i,a.f);d.f=t.map(c,0,1,a.i,a.f);f.push(d);b=c;break}1>b&&(d=a.split(b,1),d.i=t.map(b,0,1,a.i,a.f),d.f=a.f,f.push(d))});return f},scale:function(a){var c=this.g,d=void 0;"function"===typeof a&&(d=a);if(d&&2===c)return this.ic().scale(d);var e=this.Ib,l=d?d(0):a,f=d?d(1):a,p=[this.offset(0,
10),this.offset(1,10)],g=t.Fa(p[0],p[0].ca,p[1],p[1].ca);if(!g)throw"cannot scale this curve. Try reducing it first.";var m=this.points,n=[];[0,1].forEach(function(a){var b=n[a*c]=t.Lb(m[a*c]);b.x+=(a?f:l)*p[a].n.x;b.y+=(a?f:l)*p[a].n.y}.bind(this));if(!d)return[0,1].forEach(function(a){if(2!==this.g||!a){var b=n[a*c],d=this.V(a);n[a+1]=t.Fa(b,{x:b.x+d.x,y:b.y+d.y},g,m[a+1])}}.bind(this)),new b(n);[0,1].forEach(function(b){if(2!==this.g||!b){var l=m[b+1],f=l.x-g.x,p=l.y-g.y,k=d?d((b+1)/c):a;d&&!e&&
(k=-k);var t=q(f*f+p*p);n[b+1]={x:l.x+f/t*k,y:l.y+p/t*k}}}.bind(this));return new b(n)},outline:function(a,b,d,e){function l(a,b,c,d,e){return function(l){var f=b-a;return t.map(l,0,1,a+d/c*f,a+(d+e)/c*f)}}b="undefined"===typeof b?a:b;var f=this.reduce(),p=f.length,g=[],m=[],n,q=0,u=this.length(),v="undefined"!==typeof d&&"undefined"!==typeof e;f.forEach(function(c){w=c.length();v?(g.push(c.scale(l(a,d,u,q,w))),m.push(c.scale(l(-b,-e,u,q,w)))):(g.push(c.scale(a)),m.push(c.scale(-b)));q+=w});var m=
m.map(function(a){n=a.points;a.points=n[3]?[n[3],n[2],n[1],n[0]]:[n[2],n[1],n[0]];return a}).reverse(),f=g[p-1].points[g[p-1].points.length-1],y=m[0].points[0],p=t.la(m[p-1].points[m[p-1].points.length-1],g[0].points[0]),f=t.la(f,y),p=[p].concat(g).concat([f]).concat(m),w=p.length;return new c(p)},intersects:function(a){if(!a)return this.lc();if(a.G&&a.H)return this.cc(a);a instanceof b&&(a=a.reduce());return this.Za(this.reduce(),a)},cc:function(a){var b=f(a.G.x,a.H.x),c=f(a.G.y,a.H.y),d=g(a.G.x,
a.H.x),e=g(a.G.y,a.H.y),l=this;return t.kc(this.points,a).filter(function(a){a=l.get(a);return b<=a.x&&a.x<=d&&c<=a.y&&a.y<=e})},lc:function(){var a=this.reduce(),b,c=a.length-2,d=[],e,l;for(b=0;b<c;b++)e=a.slice(b,b+1),l=a.slice(b+2),e=this.Za(e,l),d=d.concat(e);return d},Za:function(a,b){var c=[];a.forEach(function(a){b.forEach(function(b){a.ec(b)&&c.push({left:a,right:b})})});var d=[];c.forEach(function(a){a=t.ob(a.left,a.right);0<a.length&&(d=d.concat(a))});return d}};"undefined"!==typeof a&&
(a.ub=b)})();wb=a.ub})();var xb;
(function(){var a;(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.ra=Math.max(4,a||9);this.Sa=Math.max(2,Math.ceil(.4*this.ra));c&&this.Db(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],g;b<c;b++)g=a.children[b],e(f,a.j?d(g):g.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-b.bbox[0]}
function g(a,b){return a.bbox[1]-b.bbox[1]}function m(a){return(a[2]-a[0])*(a[3]-a[1])}function n(a){return a[2]-a[0]+(a[3]-a[1])}function v(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function u(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function q(a,b,c,d,e){for(var f=[b,c],h;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(h=b+Math.ceil((c-b)/d/2)*d,w(a,b,c,h,e),f.push(b,h,h,c))}function w(a,b,c,d,e){for(var f,h,g,k,m;c>b;){600<c-b&&(f=c-b+1,h=d-b+1,g=Math.log(f),k=.5*Math.exp(2*
g/3),m=.5*Math.sqrt(g*k*(f-k)/f)*(0>h-f/2?-1:1),g=Math.max(b,Math.floor(d-h*k/f+m)),h=Math.min(c,Math.floor(d+(f-h)*k/f+m)),w(a,g,h,d,e));f=a[d];h=b;k=c;y(a,b,d);for(0<e(a[c],f)&&y(a,b,c);h<k;){y(a,h,k);h++;for(k--;0>e(a[h],f);)h++;for(;0<e(a[k],f);)k--}0===e(a[b],f)?y(a,b,k):(k++,y(a,k,c));k<=d&&(b=k+1);d<=k&&(c=k-1)}}function y(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Na(this.data,[])},search:function(a){var b=this.data,c=[];if(!u(a,b.bbox))return c;for(var d=[],
e,f,h,g;b;){e=0;for(f=b.children.length;e<f;e++)h=b.children[e],g=b.j?this.h(h):h.bbox,u(a,g)&&(b.j?c.push(h):v(a,g)?this.Na(h,c):d.push(h));b=d.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.Sa){for(var b=0,c=a.length;b<c;b++)this.P(a[b]);return this}a=this.Pa(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Ta(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.Qa(a,this.data.height-a.height-1,!0)):this.data=
a;return this},P:function(a){a&&this.Qa(a,this.data.height-1,!1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],j:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.h(a),d=[],e=[],f,h,g,k;b||d.length;){b||(b=d.pop(),h=d[d.length-1],f=e.pop(),k=!0);if(b.j&&(g=b.children.indexOf(a),-1!==g)){b.children.splice(g,1);d.push(b);this.Cb(d);break}k||b.j||!v(b.bbox,c)?h?(f++,b=h.children[f],k=!1):b=null:(d.push(b),e.push(f),
f=0,h=b,b=b.children[0])}return this},h:function(a){return a},wa:function(a,b){return a[0]-b[0]},xa:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Na:function(a,b){for(var c=[];a;)a.j?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},Pa:function(a,b,d,e){var f=d-b+1,g=this.ra,h;if(f<=g)return h={children:a.slice(b,d+1),height:1,bbox:null,j:!0},c(h,this.h),h;e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));h={children:[],height:e,
bbox:null};var f=Math.ceil(f/g),g=f*Math.ceil(Math.sqrt(g)),m,k,n;for(q(a,b,d,g,this.wa);b<=d;b+=g)for(k=Math.min(b+g-1,d),q(a,b,k,f,this.xa),m=b;m<=k;m+=f)n=Math.min(m+f-1,k),h.children.push(this.Pa(a,m,n,e-1));c(h,this.h);return h},Bb:function(a,b,c,d){for(var e,f,g,n,k,q,u,v;;){d.push(b);if(b.j||d.length-1===c)break;u=v=Infinity;e=0;for(f=b.children.length;e<f;e++){g=b.children[e];k=m(g.bbox);q=a;var w=g.bbox;q=(Math.max(w[2],q[2])-Math.min(w[0],q[0]))*(Math.max(w[3],q[3])-Math.min(w[1],q[1]))-
k;q<v?(v=q,u=k<u?k:u,n=g):q===v&&k<u&&(u=k,n=g)}b=n}return b},Qa:function(a,b,c){c=c?a.bbox:this.h(a);var d=[],f=this.Bb(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.ra)this.Eb(d,b),b--;else break;this.yb(c,d,b)},Eb:function(a,b){var d=a[b],e=d.children.length,f=this.Sa;this.zb(d,f,e);e={children:d.children.splice(this.Ab(d,f,e)),height:d.height};d.j&&(e.j=!0);c(d,this.h);c(e,this.h);b?a[b-1].children.push(e):this.Ta(d,e)},Ta:function(a,b){this.data={children:[a,
b],height:a.height+1};c(this.data,this.h)},Ab:function(a,b,c){var e,f,g,h,n,k,q;n=k=Infinity;for(e=b;e<=c-b;e++){f=d(a,0,e,this.h);g=d(a,e,c,this.h);var u=f,v=g;h=Math.max(u[0],v[0]);var w=Math.max(u[1],v[1]),y=Math.min(u[2],v[2]),u=Math.min(u[3],v[3]);h=Math.max(0,y-h)*Math.max(0,u-w);f=m(f)+m(g);h<n?(n=h,q=e,k=f<k?f:k):h===n&&f<k&&(k=f,q=e)}return q},zb:function(a,b,c){var d=a.j?this.wa:f,e=a.j?this.xa:g,m=this.Oa(a,b,c,d);b=this.Oa(a,b,c,e);m<b&&a.children.sort(d)},Oa:function(a,b,c,f){a.children.sort(f);
var g=this.h;f=d(a,0,b,g);var g=d(a,c-b,c,g),m=n(f)+n(g),h,q;for(h=b;h<c-b;h++)q=a.children[h],e(f,a.j?this.h(q):q.bbox),m+=n(f);for(h=c-b-1;h>=b;h--)q=a.children[h],e(g,a.j?this.h(q):q.bbox),m+=n(g);return m},yb:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},Cb:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.h)},Db:function(a){var b=["return a"," - b",";"];this.wa=new Function("a","b",b.join(a[0]));this.xa=
new Function("a","b",b.join(a[1]));this.h=new Function("a","return [a"+a.join(", a")+"];")}};a=b})();xb=a})();function R(a,b){a[0]-=b[0];a[1]-=b[1];return a}function yb(a,b){a[0]*=b;a[1]*=b;return a}function zb(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}
function Ab(){var a={},b=[255,255,255,1],c=[0,153,255,1];a[Bb]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];a[Cb]=a[Bb];a[Db]=[new ol.style.Style({stroke:new ol.style.Stroke({color:b,width:5})}),new ol.style.Style({stroke:new ol.style.Stroke({color:c,width:3})})];a[Eb]=a[Db];a[Fb]=a[Bb].concat(a[Db]);a[Gb]=[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:c}),stroke:new ol.style.Stroke({color:b,width:1.5})}),zIndex:Infinity})];a[Hb]=
a[Gb];a[Ib]=a[Bb].concat(a[Gb]);return a}var Gb="Point",Db="LineString",Bb="Polygon",Hb="MultiPoint",Eb="MultiLineString",Cb="MultiPolygon",Ib="GeometryCollection",Fb="Circle";function Jb(a){a=z(a)?a:{};this.eb=bb("DIV","ole3-toolbar ol-unselectable ol-control");this.C=this.C=new ol.Collection(a.pc);this.C.forEach(this.Wa,this);this.C.on("add",function(a){this.Wa(a.element)},this);this.C.on("remove",function(a){a=a.element;a.disable();qb(a,"willEnable",this.kb,!1,this);var c=a.getElement();c&&c.parentNode&&c.parentNode.removeChild(c);null===this.a||a.setMap(null)},this);ol.control.Control.call(this,{element:this.eb,target:a.target});this.a=null}F(Jb,ol.control.Control);
r=Jb.prototype;r.kb=function(a){this.C.forEach(function(b){a.target!==b&&b.disable()})};r.setMap=function(a){Jb.Ka.setMap.call(this,a);this.C.forEach(function(b){b.setMap(a)});this.a=a};r.ta=function(a){this.C.push(a)};r.Ia=function(a){this.C.remove(a)};r.Wa=function(a){jb(a,"willEnable",this.kb,!1,this);var b=a.getElement();b.style["float"]=b.style["float"]?b.style["float"]:"left";this.eb.appendChild(b);null===this.a||a.setMap(this.a)};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function S(a){a=a||{};this.pa=new Jb({pc:a.tools});this.setMap(a.map)}E("ole3.Editor",S);S.prototype.setMap=function(a){null!=this.a&&this.a.removeControl(this.pa);this.a=a;z(a)&&this.a.addControl(this.pa)};S.prototype.setMap=S.prototype.setMap;S.prototype.ta=function(a){Jb.prototype.ta.call(this.pa,a)};S.prototype.addTool=S.prototype.ta;S.prototype.Ia=function(a){this.pa.Ia(a)};S.prototype.removeTool=S.prototype.Ia;function T(){this.B=new xb;this.Z={}}function Kb(a,b,c){a=I(a.B.search(b),Lb);I(a,c,void 0)}T.prototype.remove=function(a){var b=this.Z[C(a)];delete this.Z[C(a)];this.B.remove(b)};T.prototype.P=function(a,b){var c=Mb(a,b);this.Z[C(b)]=c;this.B.P(c)};T.prototype.update=function(a,b){var c=Mb(a,b),d=this.Z[C(b)];this.Z[C(b)]=c;this.B.remove(d);this.B.P(c)};T.prototype.getExtent=function(){return this.B.data.bbox.slice()};function Mb(a,b){var c=a.slice(0,4);c[4]=b;return c}
function Lb(a){return a[4]};function V(){}E("ole3.bezier.ControlPointI",V);V.prototype.moveTo=function(){};V.prototype.moveTo=V.prototype.moveTo;V.prototype.remove=function(){};V.prototype.ia=function(){};V.prototype.J=function(){};function Nb(a,b,c,d){this.Xb=a;this.coordinate=b;this.aa=c;this.T=d}function Ob(a,b,c){this.F=b;this.S=c;this.s=a}r=Ob.prototype;r.J=function(){return this.s};
r.Ja=function(a){var b=this.F,c=this.S,d;switch(a){case 0:return this.remove();case 2:d=b;break;case 1:d=c}if(!d)return!1;d.Ja(a);Pb(this.s,this);return!0};function Qb(a){var b=a.w();return new W(a,0,b[0])}function X(a){var b=[],c=a.F;a=a.S;c&&b.push(c.c[1]);a&&b.push(a.c[0]);return b}
r.jb=function(a){var b=this.w();this.s.Hb||null!=this.F&&null!=this.S||delete b[0];var c=I(qa(b),function(a){return parseInt(a,10)});return Ja(c,function(c,e){var f=zb(b[e],a);return z(c)&&f>=c.aa?c:new Nb(new W(this,e,b[e]),b[e],f,!0)},void 0,this)};r.getExtent=function(){var a=this.w(),b=[],c=0,d;for(d in a)b[c++]=a[d];return ol.extent.boundingExtent(b)};r.w=function(){var a=this.F,b=this.S,c={};a&&(a=a.w(),c[2]=a[2],c[0]=a[3]);b&&(b=b.w(),c[1]=b[1],0 in c||(c[0]=b[0]));return c};
function Rb(a){var b=a.F;a=a.S;var c=[];b&&c.push(b);a&&c.push(a);return c}r.remove=function(){var a;a=this.s;var b=Ka(a.c,oa(this));if(0==b||b==a.c.length-1)a=!1;else{var c=a.c,d=c.splice(b,1)[0],e=Rb(d),f=e[0],e=e[1],c=c[b],g=X(d);g.push.apply(g,X(c));I(g,a.l.remove,a.l);g=[];g.push(d);g.push.apply(g,a.U.splice(b,1));I(g,a.jc,a);b=f.b;b.splice.apply(b,[2,2].concat(e.b.slice(2)));Sb(f);c.F=f;b=X(c);I(b,a.l.push,a.l);a.Ha(f);Tb(a);a=void 0}return a};
function W(a,b,c){this.qb=b;this.va=a;this.fa=c}W.prototype.moveTo=function(a){var b=this.va,c=this.qb,d=b.F,e=b.S;switch(c){case 0:d&&Ub(d,3,a);case 1:e&&Ub(e,c,a);break;case 2:d&&Ub(d,c,a)}Pb(b.s,b);this.fa=a;return this};W.prototype.remove=function(){return this.va.Ja(this.qb)?null:this};W.prototype.ia=function(){return this.fa.slice()};W.prototype.J=function(){return this.va.J()};
function Vb(a,b){ol.Object.call(this);this.b=a;this.c=[];this.c.push(new ol.Feature(new ol.geom.LineString(this.b.slice(0,2))));this.c.push(new ol.Feature(new ol.geom.LineString(this.b.slice(2,4))));this.s=b}F(Vb,ol.Object);r=Vb.prototype;r.J=function(){return this.s};r.getExtent=function(){var a=Wb(this).bbox();return[a.x.min,a.y.min,a.x.max,a.y.max]};
function Xb(a,b){var c=Wb(a).split(b),d;d=I(c.right.points,a.Y);d=new a.constructor(d,a.s);a.b=I(c.left.points,a.Y);Sb(a);c=new Ob(a.s,a,d);d=a.s;var e=Rb(c),f=e[0],e=e[1],g=Ka(d.U,oa(f));d.c[g+1].F=e;d.Ha(f);f=g+1;g=X(c);g.push.apply(g,X(d.c[f]));I(g,d.l.remove,d.l);I(g,d.l.push,d.l);d.U.splice(f,0,e);d.c.splice(f,0,c);I([e,c],d.Va,d);Tb(d);return c}r.Ja=function(a){if(1==a||2==a){var b=this.b,c=b[0],b=R(b[3].slice(),c),b=yb(b,a/3);this.b[a]=ol.coordinate.add(c.slice(),b);Sb(this)}};
r.getGeometry=function(){return Yb(this)};function Ub(a,b,c){0==b?ol.coordinate.add(a.b[1],R(c.slice(),a.b[0])):3==b&&ol.coordinate.add(a.b[2],R(c.slice(),a.b[3]));a.b[b]=c;Sb(a)}
r.jb=function(a){var b,c;b=Yb(this);var d=b.length-1;c=[];for(var e=0;e<d;e++){var f=b.slice(e,e+2),g=a[0],m=a[1],n=f[0],v=f[1],f=n[0],n=n[1],u=v[0],v=v[1],q=u-f,w=v-n,g=0===q&&0===w?0:(q*(g-f)+w*(m-n))/(q*q+w*w||0),y=m=void 0;0>=g?(m=f,y=n):1<=g?(m=u,y=v):(m=f+g*q,y=n+g*w);c.push([m,y])}e=f=-1;for(n=c.length-1;0<=n;--n)if(u=zb(a,c[n]),u<e||0>f)f=n,e=u;a=f;b=1*(a+zb(b[a],c[a])/zb.apply(null,b.slice(a,a+2)))/d;c=c[a];return new Nb(new Zb(this,b,c),c,e,!1)};r.w=function(){return this.b.slice()};
function Yb(a){var b=a.b,c=R(b[1].slice(),b[0]),d=R(b[2].slice(),b[0]),b=R(b[3].slice(),b[0]);if(.01>Math.abs(b[1]*c[0]+-b[0]*c[1])&&.01>Math.abs(b[1]*d[0]+-b[0]*d[1]))return a=a.b,[a[0],a[3]];c=Wb(a);a.Y=a.Y;return I(c.Pb(100),a.Y)}function Wb(a){a=I(a.b,a.oc);return new wb(a)}r.oc=function(a){return{x:a[0],y:a[1]}};r.Y=function(a){return[a.x,a.y]};
function Sb(a){var b=a.b;z(a.c)&&(a.c[0].setGeometry(new ol.geom.LineString(b.slice(0,2))),a.c[1].setGeometry(new ol.geom.LineString(b.slice(2,4))))}function Zb(a,b,c){this.Xa=a;this.fc=b;this.fa=c}Zb.prototype.moveTo=function(a){return Qb(Xb(this.Xa,this.fc)).moveTo(a)};Zb.prototype.remove=function(){return this};Zb.prototype.ia=function(){return this.fa.slice()};Zb.prototype.J=function(){return this.Xa.J()};
function Y(a,b){this.X=a;this.l=new ol.Collection;this.U=[];this.c=[];this.u=new T;var c=this.X.get("bezier");if(!c){for(var c=this.X.getGeometry().getCoordinates(),d=[],e=0,f=c.length-1;e<f;e++)d.push(this.Kb.apply(this,c.slice(e,e+2)));c=d}for(var g=null,d=0,e=c.length-1;d<=e;d++)f=new Vb(c[d],this),g=new Ob(this,g,f),$b(this,f,g),g=f;g=new Ob(this,g,null);$b(this,null,g);this.Hb=z(b)?b:!0}E("ole3.wrapper.BezierString",Y);Y.prototype.w=function(){return I(this.c,function(a){return Qb(a)})};
Y.prototype.getControlPoints=Y.prototype.w;r=Y.prototype;r.getFeature=function(){return this.X};function Pb(a,b){var c=Rb(b);c.push(b);I(c,a.Ha,a);Tb(a)}function $b(a,b,c){var d=X(c);I(d,a.l.push,a.l);a.c.push(c);c=[c];b&&(a.U.push(b),c.push(b));I(c,a.Va,a)}r.Ha=function(a){this.u.update(a.getExtent(),a)};r.jc=function(a){this.u.remove(a)};r.Va=function(a){this.u.P(a.getExtent(),a)};r.getExtent=function(){return this.u.getExtent()};
function ac(a,b,c,d){a=a.u;d=z(d)?I(a.B.search(d),Lb):I(a.B.all(),Lb);return(d=Ja(d,function(a,d){var g=d.jb(b);if(null===a)return g;if(g.T!=a.T){var m=g.T?g:a;if(c(m.coordinate))return m}return g.aa<a.aa?g:a},null))&&c(d.coordinate)?d:void 0}function Tb(a){for(var b=a.U,c=[],d=0,e=b.length;d<e;d++){var f=0==d?0:1;c.push.apply(c,b[d].getGeometry().slice(f))}a.X.getGeometry().setCoordinates(c);a.X.set("bezier",I(b,function(a){return a.w()}))}
r.Kb=function(a,b){var c=R(b.slice(),a);yb(c,1/3);return[a,ol.coordinate.add(a.slice(),c),R(b.slice(),c),b]};function bc(a){ol.interaction.Pointer.call(this,{handleDownEvent:D(this.Tb,this),handleDragEvent:D(this.Ub,this),handleUpEvent:D(this.$b,this),handleMoveEvent:D(this.Yb,this)});this.M=null;this.Da=this.Ea=!1;this.D=null;this.mb=[0,0];this.a=null;this.u=new T;this.$=z(a.pixelTolerance)?a.pixelTolerance:10;this.Ca=new ol.source.Vector;this.ja=new ol.layer.Vector;this.ja.setStyle(z(a.style)?a.style:cc());this.ja.setSource(this.Ca);this.La={LineString:this.rc};this.ha=a.features;this.ha.forEach(this.Ua,
this);this.ha.on("add",this.Vb,this);this.ha.on("remove",this.Wb,this)}F(bc,ol.interaction.Pointer);r=bc.prototype;r.Ua=function(a){var b=a.getGeometry();z(this.La[b.getType()])&&this.La[b.getType()].call(this,a,b);a=this.a;null===a||dc(this,this.mb,a)};function ec(a,b){var c=a.u,d,e=[];Kb(c,b.getGeometry().getExtent(),function(a){b===a.getFeature()&&e.push(a)});for(d=e.length;0<d;--d)I(e[d].l,a.oa,a),c.remove(e[d])}r.Vb=function(a){this.Ua(a.element)};
r.Wb=function(a){ec(this,a.element);null!==this.M&&0===this.ha.getLength()&&(this.oa(this.M),this.M=null)};
function dc(a,b,c){function d(a){return m(a,e,c)<=n}a.mb=b;var e=c.getCoordinateFromPixel(b),f=c.getCoordinateFromPixel([b[0]-a.$,b[1]+a.$]);b=c.getCoordinateFromPixel([b[0]+a.$,b[1]-a.$]);var g=ol.extent.boundingExtent([f,b]),m=D(a.gc,a),n=a.$,f=I(a.u.B.search(g),Lb);0<f.length?(f=I(f,function(a){return ac(a,e,d,g)}),f=Ia(f,z),f=Ja(f,function(a,b){if(null===a)return b;if(a.T!=b.T){var c=b.T?b:a;if(d(c.coordinate))return c}return b.aa<a.aa?b:a},null),a.D=f?f.Xb:null):a.D=null;fc(a)}
r.gc=function(a,b,c){a=c.getPixelFromCoordinate(a);b=c.getPixelFromCoordinate(b);return Math.sqrt(zb(a,b))};function fc(a){var b=a.D,c=a.M;null===b?null!==c&&(a.oa(c),a.M=null):null===c?(c=new ol.Feature(new ol.geom.Point(b.ia())),a.M=c,a.sa(c)):c.getGeometry().setCoordinates(b.ia())}r.rc=function(a){a=new Y(a,!1);var b=a.l;b.forEach(this.sa,this);b.on("add",this.Rb,this);b.on("remove",this.Zb,this);this.u.P(a.getExtent(),a)};r.sa=function(a){this.Ca.addFeature(a)};r.oa=function(a){this.Ca.removeFeature(a)};
r.Rb=function(a){this.sa(a.element)};r.Zb=function(a){this.oa(a.element)};r.Yb=function(a){this.Ea||dc(this,a.pixel,a.map)};r.Tb=function(){return null===this.M?!1:this.Ea=!0};r.Ub=function(a){this.D=this.D.moveTo(a.coordinate);fc(this);this.Da=!0};r.$b=function(){var a=this.D.J();this.Da||(this.D=this.D.remove(),fc(this));this.u.update(a.getExtent(),a);return this.Ea=this.Da=!1};r.setMap=function(a){null!=this.a&&this.a.removeLayer(this.ja);this.a=a;null!=a&&a.addLayer(this.ja)};
function cc(){var a=Ab();return function(b){return b.getGeometry().getType()==Db?a[Db]:a[Gb]}};function Z(a){var b=z(a)?a:{};this.hb=b.gb||aa;this.ya=b.ab||aa;a=b.label||"T";b=b.ba;a=B(a)?document.createTextNode(String(a)):a;var c={};b&&(c.title=b);this.fb=bb("BUTTON",c,a);jb(this.fb,"click",this.Sb,!1,this);this.I=!1;this.a=null;Q.call(this)}F(Z,Q);Z.prototype.getElement=function(){return this.fb};Z.prototype.Sb=function(){null!==this.a&&this.dispatchEvent(this.I?"willDisable":"willEnable")&&((this.I?this.ya:this.hb)(this.a),this.I=!this.I)};
Z.prototype.disable=function(){null!==this.a&&(this.dispatchEvent("willDisable"),this.ya(this.a),this.I=!1)};Z.prototype.setMap=function(a){this.I&&null!==this.a&&this.ya(this.a);this.a=a;this.I&&this.hb(this.a)};function gc(a,b){this.Ga=b;this.ac=a;this.A=null;var c={gb:D(this.Ba,this),ab:D(this.Aa,this)};b.label&&(c.label=b.label,"label"in b&&delete b.label);b.ba&&(c.ba=b.ba,"tooltip"in b&&delete b.tooltip);Z.call(this,c)}F(gc,Z);gc.prototype.Ba=function(a){this.A=new this.ac(this.Ga);a.addInteraction(this.A)};
gc.prototype.Aa=function(a){a.removeInteraction(this.A);this.A=null};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function hc(a){this.Ga=a;this.A=null;a={gb:D(this.Ba,this),ab:D(this.Aa,this),label:"B",ba:"Modify features as bezier curves"};Z.call(this,a)}F(hc,Z);E("ole3.tool.BezierEdit",hc);hc.prototype.Ba=function(a){this.A=new bc(this.Ga);a.addInteraction(this.A)};hc.prototype.Aa=function(a){a.removeInteraction(this.A);this.A=null};/*
 2015 geOps e.K.
 @license http://www.gnu.org/licenses/old-licenses/gpl-2.0
          GNU General Public License v2
*/
function ic(a){var b={label:"M",ba:"Modify features"};sa(b,a);gc.call(this,ol.interaction.Modify,b)}F(ic,gc);E("ole3.tool.Modify",ic);})();
